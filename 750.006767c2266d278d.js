"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[750],{6604:(st,Y,x)=>{x.d(Y,{A$:()=>C,AG:()=>re,Ab:()=>f,FA:()=>_,FM:()=>E,Fy:()=>r,HH:()=>e,Hf:()=>M,J6:()=>D,JH:()=>jt,KS:()=>l,Mx:()=>it,OZ:()=>Gt,TR:()=>u,Ue:()=>g,Uv:()=>Wt,Wv:()=>Ft,X4:()=>V,eA:()=>G,eD:()=>R,kT:()=>nt,kw:()=>rt,nQ:()=>W,pD:()=>It,sQ:()=>s,wS:()=>d,xS:()=>q,zj:()=>A,zz:()=>Ht});var y=x(9198);const R="assets/Data/wpfg/",g="assets/Data/wpfg/resources/images/hud/resource_food.png",M="assets/Data/wpfg/resources/images/hud/resource_wood.png",G="assets/Data/wpfg/resources/images/hud/resource_gold.png",D="assets/Data/wpfg/resources/images/hud/resource_influence.png",f="assets/Data/wpfg/resources/images/hud/resource_shipment.png",C="assets/Data/wpfg/resources/images/techtree/AgeI.png",V="assets/Data/wpfg/resources/images/techtree/AgeII.png",re="assets/Data/wpfg/resources/images/techtree/AgeIII.png",q="assets/Data/wpfg/resources/images/techtree/AgeIV.png",nt="assets/Data/wpfg/resources/images/techtree/AgeV.png",it="assets/Data/wpfg/resources/images/icons/ingame/icon_age_ii.png",Ht="assets/Data/wpfg/resources/images/icons/ingame/icon_age_iii.png",rt="assets/Data/wpfg/resources/images/icons/ingame/icon_age_iv.png",It="assets/Data/wpfg/resources/images/icons/ingame/icon_age_v.png",Wt=[y.TM.English,y.TM.French,y.TM.German,y.TM.Hindi,y.TM.Italian,y.TM.Japanese,y.TM.Korean,y.TM.Malay,y.TM.PortugueseBrazil,y.TM.Russian,y.TM.SimplifiedChinese,y.TM.Spanish,y.TM.TraditionalChinese,y.TM.Turkish,y.TM.Vietnamese];var A=function(i){return i[i.Spanish=1]="Spanish",i[i.British=2]="British",i[i.French=3]="French",i[i.Portuguese=4]="Portuguese",i[i.Dutch=5]="Dutch",i[i.Russians=6]="Russians",i[i.Germans=7]="Germans",i[i.Ottoman=8]="Ottoman",i[i.Haudenosaunee=9]="Haudenosaunee",i[i.Lakota=10]="Lakota",i[i.Aztecs=11]="Aztecs",i[i.Chinese=12]="Chinese",i[i.Japanese=13]="Japanese",i[i.Indians=14]="Indians",i[i.Inca=15]="Inca",i[i.Swedes=16]="Swedes",i[i.UnitedStates=17]="UnitedStates",i[i.Ethiopians=18]="Ethiopians",i[i.Hausa=19]="Hausa",i[i.Mexicans=20]="Mexicans",i[i.Italians=21]="Italians",i[i.Maltese=22]="Maltese",i}(A||{}),Ft=function(i){return i[i.Any=0]="Any",i[i.Spanish=1]="Spanish",i[i.British=2]="British",i[i.French=3]="French",i[i.Portuguese=4]="Portuguese",i[i.Dutch=5]="Dutch",i[i.Russians=6]="Russians",i[i.Germans=7]="Germans",i[i.Ottoman=8]="Ottoman",i[i.Haudenosaunee=9]="Haudenosaunee",i[i.Lakota=10]="Lakota",i[i.Aztecs=11]="Aztecs",i[i.Chinese=12]="Chinese",i[i.Japanese=13]="Japanese",i[i.Indians=14]="Indians",i[i.Inca=15]="Inca",i[i.Swedes=16]="Swedes",i[i.UnitedStates=17]="UnitedStates",i[i.Ethiopians=18]="Ethiopians",i[i.Hausa=19]="Hausa",i[i.Mexicans=20]="Mexicans",i[i.Italians=21]="Italians",i[i.Maltese=22]="Maltese",i}(Ft||{});const j="assets/Data/wpfg/resources/images/icons/flags/",E={1:{name:"Spanish",urlCircle:"flag_hc_spanish.png",urlRectanle:"Flag_Spanish.png",urlLeft:"postgame_flag_spanish.png",idCiv:1,homecityJson:"homecityspanish"},2:{name:"British",urlCircle:"flag_hc_british.png",urlRectanle:"Flag_British.png",urlLeft:"postgame_flag_british.png",idCiv:2,homecityJson:"homecitybritish"},3:{name:"French",urlCircle:"flag_hc_french.png",urlRectanle:"Flag_French.png",urlLeft:"postgame_flag_french.png",idCiv:3,homecityJson:"homecityfrench"},4:{name:"Portuguese",urlCircle:"flag_hc_portuguese.png",urlRectanle:"Flag_Portuguese.png",urlLeft:"postgame_flag_portuguese.png",idCiv:4,homecityJson:"homecityportuguese"},5:{name:"Dutch",urlCircle:"flag_hc_dutch.png",urlRectanle:"Flag_Dutch.png",urlLeft:"postgame_flag_dutch.png",idCiv:5,homecityJson:"homecitydutch"},6:{name:"Russians",urlCircle:"flag_hc_russian.png",urlRectanle:"Flag_Russian.png",urlLeft:"postgame_flag_russian.png",idCiv:6,homecityJson:"homecityrussians"},7:{name:"Germans",urlCircle:"flag_hc_german.png",urlRectanle:"Flag_German.png",urlLeft:"postgame_flag_german.png",idCiv:7,homecityJson:"homecitygerman"},8:{name:"Ottoman",urlCircle:"flag_hc_ottoman.png",urlRectanle:"Flag_Ottoman.png",urlLeft:"postgame_flag_ottoman.png",idCiv:8,homecityJson:"homecityottomans"},9:{name:"Haudenosaunee",urlCircle:"flag_hc_iroquois.png",urlRectanle:"Flag_Iroquois.png",urlLeft:"postgame_flag_iroquois.png",idCiv:9,homecityJson:"homecityxpiroquois"},10:{name:"Lakota",urlCircle:"flag_hc_sioux.png",urlRectanle:"Flag_Sioux.png",urlLeft:"postgame_flag_sioux.png",idCiv:10,homecityJson:"homecityxpsioux"},11:{name:"Aztecs",urlCircle:"flag_hc_aztec.png",urlRectanle:"Flag_Aztec.png",urlLeft:"postgame_flag_aztec.png",idCiv:11,homecityJson:"homecityxpaztec"},12:{name:"Chinese",urlCircle:"flag_hc_chinese.png",urlRectanle:"Flag_Chinese.png",urlLeft:"postgame_flag_chinese.png",idCiv:12,homecityJson:"homecitychinese"},13:{name:"Japanese",urlCircle:"flag_hc_japanese.png",urlRectanle:"Flag_Japanese.png",urlLeft:"postgame_flag_japanese.png",idCiv:13,homecityJson:"homecityjapanese"},14:{name:"Indians",urlCircle:"flag_hc_indian.png",urlRectanle:"Flag_Indian.png",urlLeft:"postgame_flag_indian.png",idCiv:14,homecityJson:"homecityindians"},15:{name:"Inca",urlCircle:"flag_hc_inca.png",urlRectanle:"Flag_Incan.png",urlLeft:"postgame_flag_inca.png",idCiv:15,homecityJson:"homecitydeinca"},16:{name:"Swedes",urlCircle:"flag_hc_swedish.png",urlRectanle:"Flag_Swedish.png",urlLeft:"postgame_flag_swedish.png",idCiv:16,homecityJson:"homecityswedish"},17:{name:"United States",urlCircle:"flag_hc_american.png",urlRectanle:"Flag_American.png",urlLeft:"postgame_flag_american.png",idCiv:17,homecityJson:"homecityamericans"},18:{name:"Ethiopians",urlCircle:"flag_hc_ethiopian.png",urlRectanle:"Flag_Ethiopian.png",urlLeft:"postgame_flag_ethiopian.png",idCiv:18,homecityJson:"homecityethiopians"},19:{name:"Hausa",urlCircle:"flag_hc_hausa.png",urlRectanle:"Flag_Hausa.png",urlLeft:"postgame_flag_hausa.png",idCiv:19,homecityJson:"homecityhausa"},20:{name:"Mexicans",urlCircle:"flag_hc_mexican.png",urlRectanle:"Flag_Mexican.png",urlLeft:"postgame_flag_mexican.png",idCiv:20,homecityJson:"homecitymexicans"},21:{name:"Italians",urlCircle:"flag_hc_italian.png",urlRectanle:"Flag_Italian.png",urlLeft:"postgame_flag_italian.png",idCiv:21,homecityJson:"homecityitalians"},22:{name:"Maltese",urlCircle:"flag_hc_maltese.png",urlRectanle:"Flag_Maltese.png",urlLeft:"postgame_flag_maltese.png",idCiv:22,homecityJson:"homecitymaltese"},49:{name:"Random",urlCircle:"flag_hc_random.png",urlRectanle:"Flag_Random.png",urlLeft:"postgame_flag_random.png",idCiv:49,homecityJson:""},58:{name:"Barbary Pirates",urlCircle:"flag_hc_barbary.png",urlRectanle:"Flag_Barbary.png",urlLeft:"postgame_flag_barbary.png",idCiv:58,homecityJson:""},59:{name:"United States",urlCircle:"flag_hc_american.png",urlRectanle:"Flag_American.png",urlLeft:"postgame_flag_american.png",idCiv:59,homecityJson:""},67:{name:"Moroccans",urlCircle:"flag_hc_moroccan.png",urlRectanle:"Flag_Moroccan.png",urlLeft:"postgame_flag_moroccan.png",idCiv:67,homecityJson:""}},Gt=[A.Aztecs,A.British,A.Chinese,A.Dutch,A.Ethiopians,A.French,A.Germans,A.Haudenosaunee,A.Hausa,A.Inca,A.Indians,A.Italians,A.Japanese,A.Lakota,A.Maltese,A.Mexicans,A.Ottoman,A.Portuguese,A.Russians,A.Spanish,A.Swedes,A.UnitedStates];function jt(i){return 0==i?`${j}${E[49].name}`:E[i]?`${j}${E[i].name}`:(console.error(`unkown civ id: ${i}`),`${j}${E[49].name}`)}function e(i){return 0==i?`${j}${E[49].urlCircle}`:E[i]?`${j}${E[i].urlCircle}`:(console.error(`unkown civ id: ${i}`),`${j}${E[49].urlCircle}`)}function s(i){return E[i]?`${j}${E[i].urlRectanle}`:(console.error(`unkown civ id: ${i}`),`${j}${E[49].urlRectanle}`)}function l(i){return 0==i?`${j}${E[49].urlLeft}`:E[i]?`${j}${E[i].urlLeft}`:(console.error(`unkown civ id: ${i}`),`${j}${E[49].urlLeft}`)}const a="assets/Data/";function d(i){return 0==i?`${a}${E[1].homecityJson}.xml.json`:E[i]?`${a}${E[i].homecityJson}.xml.json`:(console.error(`unkown civ id: ${i}`),`${a}${E[1].homecityJson}.xml.json`)}const h="assets/Data/wpfg/resources/art/profiles/";function _(i,U){switch(U){case 0:return`${h}avatar_tier0_Starter_${("0"+i).slice(-2)}.png`;case 1:return`${h}avatar_event0_${("0"+i).slice(-2)}.png`;case 2:return`${h}avatar_persistent1_${("0"+i).slice(-2)}.png`;case 3:return i<100?`${h}avatar_weekly_${("0"+i).slice(-2)}.png`:`${h}avatar_weekly_${i}.png`;case 4:return`${h}avatar_usa_${("0"+i).slice(-2)}.png`;case 5:return`${h}avatar_mexico_${("0"+i).slice(-2)}.png`;case 6:return`${h}avatar_italy_malta_${("0"+i).slice(-2)}.png`;default:return""}}const r=["All","Solo","2v2","3v3","4v4","Team","Treaty","DM","EW Solo","EW Team"],W=[0,1,8,9,10,2,3,4,5,6],u=[{id:0,label:"Random",img:"assets/Data/wpfg/resources/images/icons/flags/flag_hc_random.png"},{id:11,label:"Aztecs",img:"assets/Data/wpfg/resources/images/icons/flags/flag_hc_aztec.png"},{id:2,label:"British",img:"assets/Data/wpfg/resources/images/icons/flags/flag_hc_british.png"},{id:12,label:"Chinese",img:"assets/Data/wpfg/resources/images/icons/flags/flag_hc_chinese.png"},{id:5,label:"Dutch",img:"assets/Data/wpfg/resources/images/icons/flags/flag_hc_dutch.png"},{id:18,label:"Ethiopians",img:"assets/Data/wpfg/resources/images/icons/flags/flag_hc_ethiopian.png"},{id:3,label:"French",img:"assets/Data/wpfg/resources/images/icons/flags/flag_hc_french.png"},{id:7,label:"Germans",img:"assets/Data/wpfg/resources/images/icons/flags/flag_hc_german.png"},{id:9,label:"Haudenosaunee",img:"assets/Data/wpfg/resources/images/icons/flags/flag_hc_iroquois.png"},{id:19,label:"Hausa",img:"assets/Data/wpfg/resources/images/icons/flags/flag_hc_hausa.png"},{id:15,label:"Inca",img:"assets/Data/wpfg/resources/images/icons/flags/flag_hc_inca.png"},{id:14,label:"Indians",img:"assets/Data/wpfg/resources/images/icons/flags/flag_hc_indian.png"},{id:21,label:"Italians",img:"assets/Data/wpfg/resources/images/icons/flags/flag_hc_italian.png"},{id:13,label:"Japanese",img:"assets/Data/wpfg/resources/images/icons/flags/flag_hc_japanese.png"},{id:10,label:"Lakota",img:"assets/Data/wpfg/resources/images/icons/flags/flag_hc_sioux.png"},{id:22,label:"Maltese",img:"assets/Data/wpfg/resources/images/icons/flags/flag_hc_maltese.png"},{id:20,label:"Mexicans",img:"assets/Data/wpfg/resources/images/icons/flags/flag_hc_mexican.png"},{id:8,label:"Ottomans",img:"assets/Data/wpfg/resources/images/icons/flags/flag_hc_ottoman.png"},{id:4,label:"Portuguese",img:"assets/Data/wpfg/resources/images/icons/flags/flag_hc_portuguese.png"},{id:6,label:"Russians",img:"assets/Data/wpfg/resources/images/icons/flags/flag_hc_russian.png"},{id:1,label:"Spanish",img:"assets/Data/wpfg/resources/images/icons/flags/flag_hc_spanish.png"},{id:16,label:"Swedes",img:"assets/Data/wpfg/resources/images/icons/flags/flag_hc_swedish.png"},{id:17,label:"United States",img:"assets/Data/wpfg/resources/images/icons/flags/flag_hc_american.png"}]},78:(st,Y,x)=>{x.d(Y,{W:()=>g});var y=x(4438),R=x(1626);let g=(()=>{class M{constructor(D){this.httpClient=D}getJson(D){return this.httpClient.get(D)}static#t=this.\u0275fac=function(f){return new(f||M)(y.KVO(R.Qq))};static#e=this.\u0275prov=y.jDH({token:M,factory:M.\u0275fac,providedIn:"root"})}return M})()},728:(st,Y,x)=>{x.d(Y,{N:()=>G});var y=x(467),R=x(3207),g=x(4438),M=x(78);let G=(()=>{class D{constructor(L){this.jsonService=L}setLanguage(L){this.language=L}getLanguage(){return this.language}loadStringTable(){var L=this;return(0,y.A)(function*(){if(L.language==L.languageInMemory)return;let H=yield(0,R.s)(L.jsonService.getJson(`assets/Data/strings/${L.language}/stringtabley.xml.json`)),P=yield(0,R.s)(L.jsonService.getJson(`assets/Data/strings/${L.language}/stringmods.json`));D.stringTable={},D.stringTableSymbol={};for(let b=0;b<H.stringtable.language.string.length;b++){let N=H.stringtable.language.string[b];D.stringTable[N["@_locid"]]=N["#text"],N["@symbol"]&&(D.stringTableSymbol[N["@symbol"]]=N["#text"])}for(let b=0;b<P.stringmods.stringtable.language.string.length;b++){let N=P.stringmods.stringtable.language.string[b];D.stringTable[N["@_locid"]]=N["#text"]}L.languageInMemory=L.language})()}getLocalizedString(L){return D.stringTable[L]}getLocalizedStringBySymbol(L){return D.stringTableSymbol[L]}getLocalizedStrings(L){let H={};for(let P=0;P<L.length;P++)H[L[P]]=D.stringTable[L[P]];return H}static#t=this.\u0275fac=function(H){return new(H||D)(g.KVO(M.W))};static#e=this.\u0275prov=g.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}return D})()},9198:(st,Y,x)=>{x.d(Y,{TM:()=>f,th:()=>b,W4:()=>jt,K5:()=>se,_e:()=>q,xd:()=>Zt,p4:()=>at,dj:()=>kt,bs:()=>K,po:()=>E,H9:()=>Gt,hc:()=>Wt,dc:()=>Ft,Sq:()=>qt,hw:()=>D,By:()=>V,YC:()=>Nt,Fp:()=>A,MR:()=>Yt,Jp:()=>Kt,mC:()=>Qt,re:()=>Ot,vw:()=>bt,Im:()=>Jt,as:()=>Pt,$T:()=>$t,V4:()=>H,oY:()=>Vt,yy:()=>N});var y=x(467),R=x(3207),g=x(6604),G=function(e){return e.None="",e.Stealth="Stealth",e.Volley="Volley",e.Stagger="Stagger",e.Melee="Melee",e.Cover="Cover",e.Trample="Trample",e.Defend="Defend",e.StandGround="StandGround",e.Bombard="Bombard",e.Limber="Limber",e}(G||{});function D(e,s){return e=Math.ceil(e),s=Math.floor(s),Math.floor(Math.random()*(s-e+1))+e}var f=function(e){return e.English="English",e.French="French",e.German="German",e.Hindi="Hindi",e.Italian="Italian",e.Japanese="Japanese",e.Korean="Korean",e.Malay="Malay",e.PortugueseBrazil="PortugueseBrazil",e.Russian="Russian",e.SimplifiedChinese="SimplifiedChinese",e.Spanish="Spanish",e.TraditionalChinese="TraditionalChinese",e.Turkish="Turkish",e.Vietnamese="Vietnamese",e}(f||{});function H(e,s){return P.apply(this,arguments)}function P(){return(P=(0,y.A)(function*(e,s){switch(s){case f.English:return e.getLocalizedString(70882);case f.French:return e.getLocalizedString(70883);case f.German:return e.getLocalizedString(70884);case f.Hindi:return e.getLocalizedString(70885);case f.Italian:return e.getLocalizedString(70886);case f.Japanese:return e.getLocalizedString(70887);case f.Korean:return e.getLocalizedString(70888);case f.Malay:return e.getLocalizedString(70889);case f.PortugueseBrazil:return e.getLocalizedString(70890);case f.Russian:return e.getLocalizedString(70891);case f.SimplifiedChinese:return e.getLocalizedString(70892);case f.Spanish:return e.getLocalizedString(70893);case f.TraditionalChinese:return e.getLocalizedString(70894);case f.Turkish:return e.getLocalizedString(70895);case f.Vietnamese:return e.getLocalizedString(70896)}})).apply(this,arguments)}function b(e,s){switch(s){case g.zj.Spanish:return e.getLocalizedString(22864);case g.zj.British:return e.getLocalizedString(22861);case g.zj.French:return e.getLocalizedString(22862);case g.zj.Portuguese:return e.getLocalizedString(22865);case g.zj.Dutch:return e.getLocalizedString(22863);case g.zj.Russians:return e.getLocalizedString(22867);case g.zj.Germans:return e.getLocalizedString(22866);case g.zj.Ottoman:return e.getLocalizedString(22868);case g.zj.Haudenosaunee:return e.getLocalizedString(22879);case g.zj.Lakota:return e.getLocalizedString(43631);case g.zj.Aztecs:return e.getLocalizedString(22872);case g.zj.Chinese:return e.getLocalizedString(60002);case g.zj.Japanese:return e.getLocalizedString(60001);case g.zj.Indians:return e.getLocalizedString(60003);case g.zj.Inca:return e.getLocalizedString(80001);case g.zj.Swedes:return e.getLocalizedString(91500);case g.zj.UnitedStates:return e.getLocalizedString(11e4);case g.zj.Ethiopians:return e.getLocalizedString(101e3);case g.zj.Hausa:return e.getLocalizedString(101010);case g.zj.Mexicans:return e.getLocalizedString(112e3);case g.zj.Italians:return e.getLocalizedString(122e3);case g.zj.Maltese:return e.getLocalizedString(122010)}}function N(e){return new Promise(s=>setTimeout(s,e))}function Nt(e){let s=Math.floor((Date.now()-e)/1e3),l="",a=Math.floor(s/60),d=s%60;return l=a>0?1==a?`${a} minute ago`:`${a} minutes ago`:1==d?`${d} second ago`:`${d} seconds ago`,l}function $t(e){return e.offsetWidth>0&&e.offsetHeight>0}function Jt(e){return ot.apply(this,arguments)}function ot(){return(ot=(0,y.A)(function*(e){if($)return $;let s=yield(0,R.s)(e.getJson("assets/Data/protoy.xml.json"));$={};for(let l=0;l<s.proto.unit.length;l++){let a=s.proto.unit[l];$[a["@name"]]=a}return $})).apply(this,arguments)}let dt={};function ft(){return(ft=(0,y.A)(function*(e,s){if("depriestess.tactics"==e?e="dePriestess.tactics":"houseinca.tactics"==e?e="houseInca.tactics":"detorp.tactics"==e&&(e="deTorp.tactics"),dt[e])return dt[e];let l=yield(0,R.s)(s.getJson(`assets/Data/tactics/${e}.json`));return dt[e]=l,l})).apply(this,arguments)}function Ot(e){return mt.apply(this,arguments)}function mt(){return(mt=(0,y.A)(function*(e){return(0,R.s)(e.getJson("assets/maps.json"))})).apply(this,arguments)}function bt(e){return pt.apply(this,arguments)}function pt(){return(pt=(0,y.A)(function*(e){return(0,R.s)(e.getJson("assets/map_resources.json"))})).apply(this,arguments)}function Vt(e,s){let l="",a=Object.values(e);for(let d=0;d<a.length;d++)if(a[d].id==s){l=`${g.eD}${a[d].imagepath}.png`;break}return l}const Xt=43;function Yt(e){let s="";return Object.values(e).forEach(l=>{l.id!=Xt||(s=`${g.eD}${l.imagepath}.png`)}),s}function qt(e,s,l){return ht.apply(this,arguments)}function ht(){return(ht=(0,y.A)(function*(e,s,l){let a="(not found)";return Object.values(s).forEach(d=>{d.id!=l||(a=d.displayNameID)}),e.getLocalizedString(a)})).apply(this,arguments)}function Zt(){return navigator.language.startsWith("en")?f.English:navigator.language.startsWith("fr")?f.French:navigator.language.startsWith("de")?f.German:navigator.language.startsWith("hi")?f.Hindi:navigator.language.startsWith("it")?f.Italian:navigator.language.startsWith("ja")?f.Japanese:navigator.language.startsWith("ko")?f.Korean:navigator.language.startsWith("ms")?f.Malay:navigator.language.startsWith("pt")?f.PortugueseBrazil:navigator.language.startsWith("ru")?f.Russian:"zh-CN"==navigator.language?f.SimplifiedChinese:navigator.language.startsWith("es")?f.Spanish:"zh-TW"==navigator.language||"zh-HK"==navigator.language||"zh-MO"==navigator.language?f.TraditionalChinese:"zh-SG"==navigator.language?f.SimplifiedChinese:navigator.language.startsWith("tr")?f.Turkish:navigator.language.startsWith("vi")?f.Vietnamese:f.English}let $,tt,et;function Kt(e){return St.apply(this,arguments)}function St(){return(St=(0,y.A)(function*(e){return et||(et=yield(0,R.s)(e.getJson("assets/Data/civs.xml.json"))),et})).apply(this,arguments)}function Qt(e,s){return _t.apply(this,arguments)}function _t(){return(_t=(0,y.A)(function*(e,s){return tt=yield(0,R.s)(s.getJson((0,g.wS)(e))),tt})).apply(this,arguments)}function kt(e,s){return zt.apply(this,arguments)}function zt(){return(zt=(0,y.A)(function*(e,s){let l=q(s.cost),a=0,d=0,h=0,_=0;for(let o of l)switch(o["@resourcetype"]){case"Food":a=Number(o["#text"]);break;case"Wood":d=Number(o["#text"]);break;case"Gold":h=Number(o["#text"]);break;case"Influence":_=Number(o["#text"])}let r,w=yield e.getLocalizedString(s.displaynameid);r=Array.isArray(s.rollovertextid)?yield e.getLocalizedString(s.rollovertextid[0]):s.rollovertextid?yield e.getLocalizedString(s.rollovertextid):"";let W=yield e.getLocalizedString(34048),u=yield e.getLocalizedString(29781),i=yield e.getLocalizedString(69635),U=!1,B="";if(Array.isArray(s.unittype))for(let o=0;o<s.unittype.length;o++){let c=s.unittype[o];"BuildingClass"==c&&(U=!0);let p=yield vt(e,c);""!=p&&(B.length>0&&(B+=", "),B+=p),"AbstractSiegeTrooper"==c&&(B+=", ",B+=(yield e.getLocalizedString(42026)))}let Q=null==s.buildbounty||""==s.buildbounty?"0":Number(s.buildbounty).toFixed(),t=null==s.bounty||""==s.bounty?"0":Number(s.bounty).toFixed();return{iconSrc:`assets/Data/wpfg/${s.icon}`,amount:0,maxCount:1,foodCost:a,woodCost:d,coinCost:h,influenceCost:_,shipmentCost:0,displayName:w+" ("+s["@name"]+")",techName:s["@name"],rolloverText:r,pop:Number(s.populationcount),index:-1,age:Number(q(s.allowedage)[0])+1,buildingIndex:-1,isSelected:!1,researchPoint:Number(U?s.buildpoints:s.trainpoints),addCards:[],revoltCiv:"",isRevertRevolt:!1,details:[{text:n(W,"%d",Q),pop:0},{text:n(u,"%d",t),pop:0},{text:i+B,pop:0}]}})).apply(this,arguments)}function vt(e,s){switch(s){case"LogicalTypeLandMilitary":return e.getLocalizedString(79820);case"AbstractSkirmisher":return e.getLocalizedString(45485);case"AbstractRangedInfantry":return e.getLocalizedString(42032);case"AbstractHandInfantry":return e.getLocalizedString(42034);case"AbstractHeavyInfantry":case"AbstractHeavyInfantry":return e.getLocalizedString(42017);case"AbstractInfantry":return e.getLocalizedString(42167);case"AbstractLightInfantry":return e.getLocalizedString(42089);case"AbstractSiegeTrooper":return e.getLocalizedString(69637);case"AbstractRangedShockInfantry":return e.getLocalizedString(44138);case"AbstractCanSeeStealth":return e.getLocalizedString(69631);case"Hero":return e.getLocalizedString(42175);case"AbstractWarShip":return e.getLocalizedString(42036);case"AbstractFishingBoat":return e.getLocalizedString(42030);case"AbstractArtillery":return e.getLocalizedString(42094);case"AbstractHandCavalry":return e.getLocalizedString(42035);case"AbstractHeavyCavalry":return e.getLocalizedString(42088);case"AbstractCavalry":return e.getLocalizedString(38214);case"AbstractGunpowderTrooper":return e.getLocalizedString(42021);case"AbstractHealer":return e.getLocalizedString(91813);case"AbstractRangedCavalry":return e.getLocalizedString(42033);case"AbstractLightCavalry":return e.getLocalizedString(42018);case"AbstractGunpowderCavalry":return e.getLocalizedString(69634);case"BuildingClass":return e.getLocalizedString(19159);case"MilitaryBuilding":return e.getLocalizedString(112772);default:return""}}function at(e,s,l,a,d){return Lt.apply(this,arguments)}function Lt(){return Lt=(0,y.A)(function*(e,s,l,a,d,h=0,_=0,w=-1){if(!l)return null;let r;r=l.icon?.endsWith("Agents.png")||l.icon?.endsWith("High_Chief_IRO.png")?`assets/Data/wpfg/${l.icon}`:`assets/Data/wpfg/${l.icon?.toLowerCase()}`;let W=0,u=0,i=0,U=0,B=0;if(l.cost){let S=q(l.cost);for(let z=0;z<S.length;z++)"Food"==S[z]["@resourcetype"]?W=Number(S[z]["#text"]):"Wood"==S[z]["@resourcetype"]?u=Number(S[z]["#text"]):"Gold"==S[z]["@resourcetype"]?i=Number(S[z]["#text"]):"Influence"==S[z]["@resourcetype"]?U=Number(S[z]["#text"]):"Ships"==S[z]["@resourcetype"]&&(B=Number(S[z]["#text"]))}let Q=Number(l.researchpoints),t=[],o=yield e.getLocalizedStrings([l.displaynameid,l.rollovertextid]),c=l.displaynameid?o[Number(l.displaynameid)]:"",p=l.rollovertextid?o[Number(l.rollovertextid)]:"";if(p)p=p.replaceAll("\\n","<br>").replaceAll("\xb7","\u2022 ");else{let S=K(l)[0];if(S["@subtype"]?.startsWith("FreeHomeCityUnit")){let z,k=Object($[S["@unittype"]].rollovertextid);z=Array.isArray(k)?k[0]:k;let F=yield e.getLocalizedString(z);if(F.startsWith("{"))if(a==g.zj.Japanese){let X=F.indexOf("{J^")+3,v=F.indexOf("^}",X);F=F.substring(X,v)}else if(a==g.zj.Indians){let X=F.indexOf("{I^")+3,v=F.indexOf("^}",X);F=F.substring(X,v)}else{let X=F.indexOf("{E^")+3,v=F.indexOf("^}",X);F=F.substring(X,v)}t.push({text:F.replace("\\n","<br>").replace("\xb7","\u2022 "),pop:0})}}-1==_?t.push({text:yield e.getLocalizedString(36865),pop:0}):1==_?t.push({text:yield e.getLocalizedString(36866),pop:0}):2==_&&t.push({text:yield e.getLocalizedString(36867),pop:0}),t=t.concat(yield function Tt(e,s,l,a,d){return At.apply(this,arguments)}(e,s,l,a,d));let O=0;for(let S=0;S<t.length;S++)O+=t[S].pop;let oe=-1;for(let S=0;S<tt.homecity.building.length;S++){let z=Object(tt.homecity.building[S].activetechs).tech;if(z)for(let Z=0;Z<z.length;Z++)if(z[Z]["#text"]==l["@name"]){oe=S;break}}r.endsWith("time_line_age_2.png")?r=g.Mx:r.endsWith("time_line_age_3.png")?r=g.zz:r.endsWith("time_line_age_4.png")?r=g.kw:r.endsWith("time_line_age_5.png")&&(r=g.pD);let Rt=[],T=K(l);for(let S=0;S<T.length;S++){let z=T[S];if("AddHomeCityCard"==z["@type"]){let k=V(s,z["@tech"]),F=Number(z["@maxcount"]),X=Number(z["@unitcount"]),v=yield at(e,s,k,a,d,X,F);Rt.push(v)}}for(let S=0;S<T.length;S++){let z=T[S];if("SetAge"==z["@type"]&&"Age3"==z["#text"]&&a==g.zj.UnitedStates){let k=yield at(e,s,V(s,"HCXPIndustrialRevolution"),a,d,1,1),F=yield at(e,s,V(s,"HCRobberBarons"),a,d,1,1);Rt.push(k),Rt.push(F);break}}let le=!1;for(let S=0;S<T.length;S++)if("RevertRevolution"==T[S]["@type"]){le=!0;break}return{iconSrc:r,amount:h,maxCount:_,foodCost:W,woodCost:u,coinCost:i,influenceCost:U,shipmentCost:B,displayName:c,techName:l["@name"],rolloverText:p,pop:O,index:-1,age:w+1,buildingIndex:oe,researchPoint:Q,isSelected:!1,addCards:Rt,revoltCiv:l.revolutionciv,isRevertRevolt:le,details:t}}),Lt.apply(this,arguments)}function At(){return(At=(0,y.A)(function*(e,s,l,a,d){let h=[],_=K(l);for(let w=0;w<_.length;w++){if(a==g.zj.Ethiopians&&"DEHCBigLevy"==l["@name"]&&1==w)continue;if(24==h.length){h.push({text:yield e.getLocalizedString(19830),pop:0});break}let r=_[w],W=r["@type"],u=r["@subtype"],i=Number(r["@amount"]),U=r["@unittype"],B="",Q=0;if(U){let o=$[U];o&&(B=yield e.getLocalizedString(o.displaynameid),Q=o.populationcount?Number(o.populationcount)*i:0)}let t="";if(u){if("FreeHomeCityUnitIfTechObtainable"==u){if("deDefaultCratesShadow"!=r["@tech"]&&"deCardDeliverCreateShadow"!=r["@tech"]&&"DEShipCavArcherShadow"!=r["@tech"]&&"DEHCShipLongbowShadow"!=r["@tech"]&&"DEHCShipCrossbowShadow"!=r["@tech"]&&"DEShipJannissaryShadow"!=r["@tech"]&&"Age0Ottoman"!=r["@tech"]&&"DEHCShipRollingWoodMaltaShadow1"!=r["@tech"]&&"DEZacatecasSilverExtraMines"!=r["@tech"]&&"deCardIgnoreBuildLimit"!=r["@tech"])continue;t=yield e.getLocalizedString(42177),t=n(t,"%1d",i.toFixed()),t=n(t,"%2s",B)}else if("FreeHomeCityUnitByShipmentCount"==u)t=yield e.getLocalizedString(42177),t=n(t,"%1d",i.toFixed()),t=n(t,"%2s",B);else if("FreeHomeCityUnitResource"==u){t=yield e.getLocalizedStringBySymbol("cStringFreeHomeCityUnitResourceEffect");let o=Number(r["@resvalue"]),c=yield C(e,r);t=n(t,"%1d",i.toFixed()),t=n(t,"%2s",B),t=n(t,"%3d",o.toFixed()),t=n(t,"%4s",c)}else if("FreeHomeCityUnitByShipmentCountResource"==u){t=yield e.getLocalizedStringBySymbol("cStringFreeHomeCityUnitResourceEffect");let o=Number(r["@resvalue"]),c=yield C(e,r);t=n(t,"%1d",i.toFixed()),t=n(t,"%2s",B),t=n(t,"%3d",o.toFixed()),t=n(t,"%4s",c)}else{if("ResourceIfTechObtainable"==u)continue;if("FreeHomeCityUnitByUnitCount"==u){t=yield e.getLocalizedStringBySymbol(`cString${u}Effect`);let o=r["@counttype"],c=yield m(e,s,a,o);t=n(t,"%1d",i.toFixed()),t=n(t,"%2s",B),t=n(t,"%3s",c)}else if("ResourceTrickleRate"==u){t=yield e.getLocalizedStringBySymbol("cStringAddResourceTrickleRateEffect");let o=yield C(e,r);t=n(t,"%1s",yield e.getLocalizedString(22301)),t=n(t,"%2.2f",i.toFixed(2)),t=n(t,"%3s",o)}else if("Resource"==u){t=yield e.getLocalizedStringBySymbol("cStringResourceEffect");let o=yield C(e,r);t=n(t,"%1s",yield e.getLocalizedString(22301)),t=n(t,"%2.2f",i.toFixed(2)),t=n(t,"%3s",o)}else if("FreeHomeCityUnitTechActiveCycle"==u)t=yield e.getLocalizedStringBySymbol("cStringFreeHomeCityUnitEffect"),i<0&&(i=0),t=n(t,"%1d",i.toFixed()),t=n(t,"%2s",B);else if("FreeHomeCityUnitShipped"==u){t=yield e.getLocalizedStringBySymbol("cStringFreeHomeCityUnitEffectShipped"),i<0&&(i=0);let o=yield m(e,s,a,r["@unittype"]);t=n(t,"%1d",i.toFixed()),t=n(t,"%2s",B),t=n(t,"%3d",Number(r["@amount2"]).toFixed()),t=n(t,"%4s",o)}else if("FreeHomeCityUnit"==u)t=yield e.getLocalizedStringBySymbol("cStringFreeHomeCityUnitEffect"),i<0&&(i=0),t=n(t,"%1d",i.toFixed()),t=n(t,"%2s",B);else if("FreeHomeCityUnitToGatherPoint"==u)if(Number.isNaN(Number(r["@resvalue"])))t=yield e.getLocalizedStringBySymbol("cStringFreeHomeCityUnitEffect"),i<0&&(i=0),t=n(t,"%1d",i.toFixed()),t=n(t,"%2s",B);else{t=yield e.getLocalizedStringBySymbol("cStringFreeHomeCityUnitResourceEffect"),i<0&&(i=0);let o=yield C(e,r);t=n(t,"%1d",i.toFixed()),t=n(t,"%2s",B),t=n(t,"%3d",Number(r["@resvalue"]).toFixed()),t=n(t,"%4s",o)}else if("FreeHomeCityUnitRandom"==u)t=yield e.getLocalizedStringBySymbol("cStringFreeHomeCityUnitRandomEffect"),i<0&&(i=0),B=yield m(e,s,a,U,r.target?.["@type"]),t=n(t,"%1d",i.toFixed()),t=n(t,"%2s",B);else if("ArmorType"==u){t=yield e.getLocalizedStringBySymbol("cStringArmorTypeEffect");let o=yield m(e,s,a,r.target?.["#text"]),c=yield nt(e,r["@newtype"]);t=n(t,"%1s",o),t=n(t,"%2s",c)}else if("ArmorSpecific"==u){if("Absolute"==r["@relativity"]){t=yield e.getLocalizedStringBySymbol("cStringAddArmorSpecificEffect");let o=yield m(e,s,a,r.target?.["#text"]),c=yield nt(e,r["@newtype"]);t=n(t,"%1s",o),t=n(t,"%2.2f",i.toFixed(2)),t=n(t,"%3s",c)}}else if("Hitpoints"==u||"HitPoints"==u){if(J(r.target?.["#text"])){let o=yield m(e,s,a,r.target?.["#text"]);""!=o&&(t=i>1?yield e.getLocalizedStringBySymbol("cStringIncreaseHitpointsEffect"):yield e.getLocalizedStringBySymbol("cStringDecreaseHitpointsEffect"),t=n(t,"%1s",o),t=n(t,"%2.0f",(100*i-100).toFixed()),t=n(t,"%%","%"))}}else if("Armor"==u){if(J(r.target?.["#text"])){let o=yield m(e,s,a,r.target?.["#text"]);""!=o&&("Absolute"==r["@relativity"]?(t=yield e.getLocalizedStringBySymbol("cStringAddArmorEffect"),t=n(t,"%1s",o),t=n(t,"%2.2f",i.toFixed(2))):("BasePercent"==r["@relativity"]||"Percent"==r["@relativity"])&&(t=i>1?yield e.getLocalizedStringBySymbol("cStringIncreaseArmorEffect"):yield e.getLocalizedStringBySymbol("cStringDecreaseArmorEffect"),t=n(t,"%1s",o),t=n(t,"%2.0f",(100*i-100).toFixed()),t=n(t,"%%","%")))}}else if("Damage"==u){if((r["@allactions"]||r["@action"])&&J(r.target?.["#text"])){let o=yield I(e,s,r,a,d);if(""!=o){let c=yield m(e,s,a,r.target?.["#text"]);if(""!=c)if("Absolute"==r["@relativity"]){t=yield e.getLocalizedStringBySymbol("cStringAddDamageEffect");let p=yield I(e,s,r,a,d);t=n(t,"%1s",c),t=n(t,"%2.2f",i.toFixed(2)),t=n(t,"%3s",p)}else if("BasePercent"==r["@relativity"]||"Percent"==r["@relativity"])t=i>1?yield e.getLocalizedStringBySymbol("cStringIncreaseDamageEffect"):yield e.getLocalizedStringBySymbol("cStringDecreaseDamageEffect"),t=n(t,"%1s",c),t=n(t,"%2s",o),t=n(t,"%3.0f",(100*i-100).toFixed()),t=n(t,"%%","%");else if("Assign"==r["@relativity"]){t=yield e.getLocalizedStringBySymbol("cStringSetDamageEffect");let p=yield I(e,s,r,a,d);t=n(t,"%1s",c),t=n(t,"%2s",p),t=n(t,"%3.2f",i.toFixed(2))}}}}else if("DamageForAllRangedLogicActions"==u){if(J(r.target?.["#text"])){let o=yield m(e,s,a,r.target?.["#text"]);"Absolute"==r["@relativity"]?(t=yield e.getLocalizedStringBySymbol("cStringAddRangedDamageEffect"),t=n(t,"%1s",o),t=n(t,"%2.2f",i.toFixed(2))):"BasePercent"==r["@relativity"]||"Percent"==r["@relativity"]?(t=i>1?yield e.getLocalizedStringBySymbol("cStringIncreaseRangedDamageEffect"):yield e.getLocalizedStringBySymbol("cStringDecreaseRangedDamageEffect"),t=n(t,"%1s",o),t=n(t,"%2.0f",(100*i-100).toFixed()),t=n(t,"%%","%")):"Assign"==r["@relativity"]&&(t=yield e.getLocalizedStringBySymbol("cStringSetRangedDamageEffect"),t=n(t,"%1s",o),t=n(t,"%2.2f",i.toFixed(2)))}}else if("DamageForAllHandLogicActions"==u){if(J(r.target?.["#text"])){let o=yield m(e,s,a,r.target?.["#text"]);"Absolute"==r["@relativity"]?(t=yield e.getLocalizedStringBySymbol("cStringAddHandDamageEffect"),t=n(t,"%1s",o),t=n(t,"%2.2f",i.toFixed(2))):"BasePercent"==r["@relativity"]||"Percent"==r["@relativity"]?(t=i>1?yield e.getLocalizedStringBySymbol("cStringIncreaseHandDamageEffect"):yield e.getLocalizedStringBySymbol("cStringDecreaseHandDamageEffect"),t=n(t,"%1s",o),t=n(t,"%2.0f",(100*i-100).toFixed()),t=n(t,"%%","%")):"Assign"==r["@relativity"]&&(t=yield e.getLocalizedStringBySymbol("cStringSetHandDamageEffect"),t=n(t,"%1s",o),t=n(t,"%2.2f",i.toFixed(2)))}}else if("DamageArea"==u){let o=yield m(e,s,a,r.target?.["#text"]);if("Absolute"==r["@relativity"]){t=yield e.getLocalizedStringBySymbol("cStringAddDamageAreaEffect");let c=yield I(e,s,r,a,d);t=n(t,"%1s",o),t=n(t,"%2.2f",i.toFixed(2)),t=n(t,"%3s",c)}else if("BasePercent"==r["@relativity"]||"Percent"==r["@relativity"]){t=i>1?yield e.getLocalizedStringBySymbol("cStringIncreaseDamageAreaEffect"):yield e.getLocalizedStringBySymbol("cStringDecreaseDamageAreaEffect");let c=yield I(e,s,r,a,d);t=n(t,"%1s",o),t=n(t,"%2s",c),t=n(t,"%3.0f",(100*i-100).toString()),t=n(t,"%%","%")}else if("Assign"==r["@relativity"]){t=yield e.getLocalizedStringBySymbol("cStringSetDamageAreaEffect");let c=yield I(e,s,r,a,d);t=n(t,"%1s",o),t=n(t,"%2s",c),t=n(t,"%3.2f",i.toFixed(2))}}else if("DamageBonus"==u){let o=yield m(e,s,a,r.target?.["#text"]);if(B=yield m(e,s,a,r["@unittype"]),""!=B)if("Absolute"==r["@relativity"]){t=yield e.getLocalizedStringBySymbol("cStringAddDamageBonusEffect");let c=yield I(e,s,r,a,d);t=n(t,"%1s",o),t=n(t,"%2.2f",i.toFixed(2)),t=n(t,"%3s",c),t=n(t,"%4s",B)}else if("BasePercent"==r["@relativity"]||"Percent"==r["@relativity"]){t=i>1?yield e.getLocalizedStringBySymbol("cStringIncreaseDamageBonusEffect"):yield e.getLocalizedStringBySymbol("cStringDecreaseDamageBonusEffect");let c=yield I(e,s,r,a,d),p=yield m(e,s,a,r["@unittype"]);t=n(t,"%1s",o),t=n(t,"%2s",c),t=n(t,"%3s",p),t=n(t,"%4.0f",(100*i-100).toString()),t=n(t,"%%","%")}else if("Assign"==r["@relativity"]){t=yield e.getLocalizedStringBySymbol("cStringSetDamageBonusEffect");let c=yield I(e,s,r,a,d),p=yield m(e,s,a,r["@unittype"]);t=n(t,"%1s",o),t=n(t,"%2s",c),t=n(t,"%3s",p),t=n(t,"%4.2f",i.toFixed(2))}}else if("Cost"==u){let o=yield m(e,s,a,r.target?.["#text"]);if(""!=o){let c=yield C(e,r);"BasePercent"==r["@relativity"]||"Percent"==r["@relativity"]?(t=i>1?yield e.getLocalizedStringBySymbol("cStringIncreaseCostEffect"):yield e.getLocalizedStringBySymbol("cStringDecreaseCostEffect"),t=n(t,"%1s",o),t=n(t,"%2s",c),t=n(t,"%3.0f",(100*i-100).toFixed()),t=n(t,"%%","%")):"Assign"==r["@relativity"]?(t=yield e.getLocalizedStringBySymbol("cStringSetCostEffect"),t=n(t,"%1s",o),t=n(t,"%2s",c),t=n(t,"%3.2f",i.toFixed(2))):"Absolute"==r["@relativity"]&&(t=yield e.getLocalizedStringBySymbol("cStringAddCostEffect"),t=n(t,"%1s",o),t=n(t,"%2.2f",i.toFixed(2)),t=n(t,"%3s",c))}}else if("MaximumVelocity"==u){if(J(r.target?.["#text"])){let o=yield m(e,s,a,r.target?.["#text"]);"BasePercent"==r["@relativity"]||"Percent"==r["@relativity"]?i>1?(t=yield e.getLocalizedStringBySymbol("cStringIncreaseSpeedEffect"),t=n(t,"%1s",o),t=n(t,"%2.0f",(100*i-100).toFixed()),t=n(t,"%%","%")):(t=yield e.getLocalizedStringBySymbol("cStringDecreaseSpeedEffect"),t=n(t,"%1s",o),t=n(t,"%2.0f",(100*i-100).toFixed()),t=n(t,"%%","%")):"Absolute"==r["@relativity"]?(t=yield e.getLocalizedStringBySymbol("cStringAddSpeedEffect"),t=n(t,"%1s",o),t=n(t,"%2.2f",i.toFixed(2))):"Assign"==r["@relativity"]&&(t=yield e.getLocalizedStringBySymbol("cStringSetSpeedEffect"),t=n(t,"%1s",o),t=n(t,"%2.2f",i.toFixed(2)))}}else if("RateOfFire"==u){if(J(r.target?.["#text"])){let o=yield m(e,s,a,r.target?.["#text"]),c=yield I(e,s,r,a,d);""!=c&&("BasePercent"==r["@relativity"]||"Percent"==r["@relativity"]?i>1?(t=yield e.getLocalizedStringBySymbol("cStringIncreaseRateOfFireEffect"),t=n(t,"%1s",o),t=n(t,"%2s",c),t=n(t,"%3.0f",(100*i-100).toString()),t=n(t,"%%","%")):(t=yield e.getLocalizedStringBySymbol("cStringDecreaseRateOfFireEffect"),t=n(t,"%1s",o),t=n(t,"%2s",c),t=n(t,"%3.0f",(100*i-100).toString()),t=n(t,"%%","%")):"Absolute"==r["@relativity"]?(t=yield e.getLocalizedStringBySymbol("cStringAddRateOfFireEffect"),t=n(t,"%1s",o),t=n(t,"%2.2f",i.toFixed(2)),t=n(t,"%3s",c)):"Assign"==r["@relativity"]&&(t=yield e.getLocalizedStringBySymbol("cStringSetRateOfFireEffect"),t=n(t,"%1s",o),t=n(t,"%2s",c),t=n(t,"%3.2f",i.toFixed(2))))}}else if("MaximumRange"==u){let o=yield m(e,s,a,r.target?.["#text"]),c=yield I(e,s,r,a,d);""!=c&&("BasePercent"==r["@relativity"]||"Percent"==r["@relativity"]?i>1?(t=yield e.getLocalizedStringBySymbol("cStringIncreaseMaxRangeEffect"),t=n(t,"%1s",o),t=n(t,"%2s",c),t=n(t,"%3.0f",(100*i-100).toString()),t=n(t,"%%","%")):(t=yield e.getLocalizedStringBySymbol("cStringDecreaseMaxRangeEffect"),t=n(t,"%1s",o),t=n(t,"%2s",c),t=n(t,"%3.0f",(100*i-100).toString()),t=n(t,"%%","%")):"Assign"==r["@relativity"]?(t=yield e.getLocalizedStringBySymbol("cStringSetMaxRangeEffect"),t=n(t,"%1s",o),t=n(t,"%2s",c),t=n(t,"%3.2f",i.toFixed(2))):"Absolute"==r["@relativity"]&&(t=yield e.getLocalizedStringBySymbol("cStringAddMaxRangeEffect"),t=n(t,"%1s",o),t=n(t,"%2.2f",i.toFixed(2)),t=n(t,"%3s",c)))}else if("MinimumRange"==u){let o=yield m(e,s,a,r.target?.["#text"]),c=yield I(e,s,r,a,d);""!=c&&("BasePercent"==r["@relativity"]||"Percent"==r["@relativity"]?i>1?(t=yield e.getLocalizedStringBySymbol("cStringIncreaseMinRangeEffect"),t=n(t,"%1s",o),t=n(t,"%2s",c),t=n(t,"%3.0f",(100*i-100).toString()),t=n(t,"%%","%")):(t=yield e.getLocalizedStringBySymbol("cStringDecreaseMinRangeEffect"),t=n(t,"%1s",o),t=n(t,"%2s",c),t=n(t,"%3.0f",(100*i-100).toString()),t=n(t,"%%","%")):"Assign"==r["@relativity"]?(t=yield e.getLocalizedStringBySymbol("cStringSetMinRangeEffect"),t=n(t,"%1s",o),t=n(t,"%2s",c),t=n(t,"%3.2f",i.toFixed(2))):"Absolute"==r["@relativity"]&&(t=yield e.getLocalizedStringBySymbol("cStringAddMinRangeEffect"),t=n(t,"%1s",o),t=n(t,"%2.2f",i.toFixed(2)),t=n(t,"%3s",c)))}else if("LOS"==u){if("NatMercTracker"!=r.target?.["#text"]){let o=yield m(e,s,a,r.target?.["#text"]);""!=o&&("BasePercent"==r["@relativity"]||"Percent"==r["@relativity"]?i>1?(t=yield e.getLocalizedStringBySymbol("cStringIncreaseLOSEffect"),t=n(t,"%1s",o),t=n(t,"%2.0f",(100*i-100).toString()),t=n(t,"%%","%")):(t=yield e.getLocalizedStringBySymbol("cStringDecreaseLOSEffect"),t=n(t,"%1s",o),t=n(t,"%2.0f",(100*i-100).toString()),t=n(t,"%%","%")):"Assign"==r["@relativity"]?(t=yield e.getLocalizedStringBySymbol("cStringSetLOSEffect"),t=n(t,"%1s",o),t=n(t,"%2.2f",i.toFixed(2))):"Absolute"==r["@relativity"]&&(t=yield e.getLocalizedStringBySymbol("cStringAddLOSEffect"),t=n(t,"%1s",o),t=n(t,"%2.2f",i.toFixed(2))))}}else if("Yield"==u){let o=yield I(e,s,r,a,d);if(""!=o){let c=yield m(e,s,a,r["@unittype"]),p=yield m(e,s,a,r.target?.["#text"]);"Assign"==r["@relativity"]?(t=yield e.getLocalizedStringBySymbol("cStringSetYieldEffect"),t=n(t,"%1s",p),t=n(t,"%2s",o),t=n(t,"%3s",c),t=n(t,"%4.2f",i.toFixed(2))):"Absolute"==r["@relativity"]?(t=yield e.getLocalizedStringBySymbol("cStringAddYieldEffect"),t=n(t,"%1s",p),t=n(t,"%2.2f",i.toFixed(2)),t=n(t,"%3s",o),t=n(t,"%4s",c)):(t=yield e.getLocalizedStringBySymbol("cStringChangeYieldEffect"),t=n(t,"%1s",p),t=n(t,"%2s",o),t=n(t,"%3s",c),t=n(t,"%4.0f",(100*i-100).toFixed()),t=n(t,"%%","%"))}}else if("WorkRate"==u){let o=yield I(e,s,r,a,d);if(""!=o){let c=r["@unittype"];if("AbstractInfiniteCrate"!=c){let p=yield m(e,s,a,c),O=yield m(e,s,a,r.target?.["#text"],r.target?.["@type"]);"BasePercent"==r["@relativity"]||"Percent"==r["@relativity"]?1!=i&&(t=i>1?yield e.getLocalizedStringBySymbol("cStringIncreaseWorkRateEffect"):yield e.getLocalizedStringBySymbol("cStringDecreaseWorkRateEffect"),t=n(t,"%1s",O),t=n(t,"%2s",o),t=n(t,"%3s",p),t=n(t,"%4.0f",(100*i-100).toFixed()),t=n(t,"%%","%")):"Assign"==r["@relativity"]&&(t=yield e.getLocalizedStringBySymbol("cStringSetWorkRateEffect"),t=n(t,"%1s",O),t=n(t,"%2s",o),t=n(t,"%3s",p),t=n(t,"%4.2f",i.toFixed()))}}}else if("BuildingWorkRate"==u){let o=yield m(e,s,a,r.target?.["#text"]);""!=o&&("BasePercent"==r["@relativity"]||"Percent"==r["@relativity"]?(t=i>1?yield e.getLocalizedStringBySymbol("cStringIncreaseBuildingWorkRateEffect"):yield e.getLocalizedStringBySymbol("cStringDecreaseBuildingWorkRateEffect"),t=n(t,"%1s",o),t=n(t,"%2.0f",(100*i-100).toFixed()),t=n(t,"%%","%")):"Assign"==r["@relativity"]&&(t=yield e.getLocalizedStringBySymbol("cStringSetBuildingWorkRateEffect"),t=n(t,"%1s",o),t=n(t,"%2.2f",i.toFixed())))}else if("WorkRateSpecific"==u){let o=yield I(e,s,r,a,d),c=yield m(e,s,a,r["@unittype"]),p=yield m(e,s,a,r.target?.["#text"]),O=yield C(e,r);t=i>1?yield e.getLocalizedStringBySymbol("cStringIncreaseWorkRateEffectSpecific"):yield e.getLocalizedStringBySymbol("cStringDecreaseWorkRateEffectSpecific"),t=n(t,"%1s",p),t=n(t,"%2s",o),t=n(t,"%3s",c),t=n(t,"%4.0f",(100*i-100).toFixed()),t=n(t,"%5s",O),t=n(t,"%%","%")}else if("InventoryRate"==u){t=yield e.getLocalizedStringBySymbol("cStringIncreaseWorkRateEffect");let o=yield I(e,s,r,a,d),c="";c=yield m(e,s,a,r["@unittype"]),t=n(t,"%1s",yield m(e,s,a,r.target?.["#text"])),t=n(t,"%2s",o),t=n(t,"%3s",c),t=n(t,"%4.0f",(100*i-100).toFixed()),t=n(t,"%%","%")}else if("PopulationCapAddition"==u){let o=yield m(e,s,a,r.target?.["#text"]);""!=o&&(t=yield e.getLocalizedStringBySymbol("cStringPopulationCapAddition"),t=n(t,"%1s",o),t=n(t,"%2d",i.toFixed()))}else if("BuildLimit"==u){let o=yield m(e,s,a,r.target?.["#text"]);"Assign"==r["@relativity"]?(t=yield e.getLocalizedStringBySymbol("cStringSetBuildLimitEffect"),t=n(t,"%1s",o),t=n(t,"%2.2f",i.toFixed(2))):"Absolute"==r["@relativity"]?(t=yield e.getLocalizedStringBySymbol("cStringAddBuildLimitEffect"),t=n(t,"%1s",o),t=n(t,"%2.2f",i.toFixed(2))):("BasePercent"==r["@relativity"]||"Percent"==r["@relativity"])&&(t=i>1?yield e.getLocalizedStringBySymbol("cStringIncreaseBuildLimitEffect"):yield e.getLocalizedStringBySymbol("cStringDecreaseBuildLimitEffect"),t=n(t,"%1s",o),t=n(t,"%2.0f",(100*i-100).toString()),t=n(t,"%%","%"))}else if("TrainPoints"==u){if(J(r.target?.["#text"])){let o=yield m(e,s,a,r.target?.["#text"]);""!=o&&(t=i>1?yield e.getLocalizedStringBySymbol("cStringIncreaseTrainPointsEffect"):yield e.getLocalizedStringBySymbol("cStringDecreaseTrainPointsEffect"),t=n(t,"%1s",o),t=n(t,"%2.0f",(100*i-100).toFixed()),t=n(t,"%%","%"))}}else if("BuildPoints"==u){let o=yield m(e,s,a,r.target?.["#text"]);""!=o&&(t=i>1?yield e.getLocalizedStringBySymbol("cStringIncreaseBuildPointsEffect"):yield e.getLocalizedStringBySymbol("cStringDecreaseBuildPointsEffect"),t=n(t,"%1s",o),t=n(t,"%2.0f",(100*i-100).toFixed()),t=n(t,"%%","%"))}else if("ResearchPoints"==u){let o=yield m(e,s,a,r.target?.["#text"],r.target?.["@type"]);""!=o&&("BasePercent"==r["@relativity"]||"Percent"==r["@relativity"]?(t=i>1?yield e.getLocalizedStringBySymbol("cStringIncreaseResearchPointsEffect"):yield e.getLocalizedStringBySymbol("cStringDecreaseResearchPointsEffect"),t=n(t,"%1s",o),t=n(t,"%2.0f",(100*i-100).toFixed()),t=n(t,"%%","%")):"Assign"==r["@relativity"]&&(t=yield e.getLocalizedStringBySymbol("cStringSetResearchPointsEffect"),t=n(t,"%1s",o),t=n(t,"%2.2f",i.toFixed(2))))}else if("BuildBounty"==u){if(J(r.target?.["#text"])){let o=yield m(e,s,a,r.target?.["#text"]);"BasePercent"==r["@relativity"]||"Percent"==r["@relativity"]?(t=i>1?yield e.getLocalizedStringBySymbol("cStringIncreaseBuildBountyEffect"):yield e.getLocalizedStringBySymbol("cStringDecreaseBuildBountyEffect"),t=n(t,"%1s",o),t=n(t,"%2.0f",(100*i-100).toFixed()),t=n(t,"%%","%")):"Assign"==r["@relativity"]&&(t=yield e.getLocalizedStringBySymbol("cStringSetBuildBountyEffect"),t=n(t,"%1s",o),t=n(t,"%2.2f",i.toFixed(2)))}}else if("BuildBountySpecific"==u){if(J(r.target?.["#text"])){let o=yield C(e,r),c=yield m(e,s,a,r.target?.["#text"]);"BasePercent"==r["@relativity"]||"Percent"==r["@relativity"]?(t=i>1?yield e.getLocalizedStringBySymbol("cStringIncreaseBuildBountySpecificEffect"):yield e.getLocalizedStringBySymbol("cStringDecreaseBuildBountySpecificEffect"),t=n(t,"%1s",c),t=n(t,"%2.0f",(100*i-100).toFixed()),t=n(t,"%3s",o),t=n(t,"%%","%")):"Assign"==r["@relativity"]?(t=yield e.getLocalizedStringBySymbol("cStringSetBuildBountySpecificEffect"),t=n(t,"%1s",c),t=n(t,"%2s",o),t=n(t,"%3.2f",i.toFixed(2))):"DefaultValue"==r["@relativity"]&&(t=yield e.getLocalizedStringBySymbol("cStringDefaultBuildBountySpecificEffect"),t=n(t,"%1s",c),t=n(t,"%2s",o))}}else if("KillBounty"==u){let o=yield m(e,s,a,r.target?.["#text"]);"BasePercent"==r["@relativity"]||"Percent"==r["@relativity"]?(t=i>1?yield e.getLocalizedStringBySymbol("cStringIncreaseKillBountyEffect"):yield e.getLocalizedStringBySymbol("cStringDecreaseKillBountyEffect"),t=n(t,"%1s",o),t=n(t,"%2.0f",(100*i-100).toFixed()),t=n(t,"%%","%")):"Assign"==r["@relativity"]&&(t=yield e.getLocalizedStringBySymbol("cStringSetKillBountyEffect"),t=n(t,"%1s",o),t=n(t,"%2.2f",i.toFixed(2)))}else if("ActionEnable"==u){if("DefendRangedShipAttack"!=r["@action"]&&"ChargePistolCoverAttack"!=r["@action"]&&"NatMercTracker"!=r.target?.["#text"]){let o=yield I(e,s,r,a,d);if(""!=o&&"AbstractSPCEuroTower"!=r.target?.["#text"]){let c=yield m(e,s,a,r.target?.["#text"]);""!=c&&(t=yield e.getLocalizedStringBySymbol("cStringEnableActionEffect"),t=n(t,"%1s",c),t=n(t,"%2s",o))}}}else if("Enable"==u){let o=yield m(e,s,a,r.target?.["#text"]);0==i?(t=yield e.getLocalizedStringBySymbol("cStringDisableEffect"),t=n(t,"%1s",o)):1==i&&(t=yield e.getLocalizedStringBySymbol("cStringEnableEffect"),t=n(t,"%1s",o))}else if("EnableDodge"==u){let o=yield m(e,s,a,r.target?.["#text"]);t=yield e.getLocalizedStringBySymbol("cStringEnableDodgeEffect"),t=n(t,"%1s",o)}else if("EnableAutoCrateGather"==u){let o=yield m(e,s,a,r.target?.["#text"]);t=yield e.getLocalizedStringBySymbol("cStringEnableAutoCrateGatherEffect"),t=n(t,"%1s",o)}else if("DodgeChance"==u){let o=yield m(e,s,a,r.target?.["#text"]);t=yield e.getLocalizedStringBySymbol("cStringSetDodgeChanceEffect"),t=n(t,"%1s",o),t=n(t,"%3.2f",i.toFixed(2))}else if("Market"==u){let o=yield m(e,s,a,r.target?.["#text"],r.target?.["@type"]);if("BuyFactor"==r["@component"]){t=i>1?yield e.getLocalizedStringBySymbol("cStringIncreaseMarketEffect"):yield e.getLocalizedStringBySymbol("cStringDecreaseMarketEffect");let c=yield e.getLocalizedStringBySymbol("cStringBuyFactor");t=n(t,"%1s",o),t=n(t,"%2s",c),t=n(t,"%3.0f",(100*i-100).toFixed()),t=n(t,"%%","%")}else if("SellFactor"==r["@component"]){t=i>1?yield e.getLocalizedStringBySymbol("cStringIncreaseMarketEffect"):yield e.getLocalizedStringBySymbol("cStringDecreaseMarketEffect");let c=yield e.getLocalizedStringBySymbol("cStringSellFactor");t=n(t,"%1s",o),t=n(t,"%2s",c),t=n(t,"%3.0f",(100*i-100).toFixed()),t=n(t,"%%","%")}else if("SellFactorSpecific"==r["@component"]){t=i>1?yield e.getLocalizedStringBySymbol("cStringIncreaseMarketEffect"):yield e.getLocalizedStringBySymbol("cStringDecreaseMarketEffect");let c=yield e.getLocalizedStringBySymbol("cStringSellFactor");t=n(t,"%1s",o),t=n(t,"%2s",c),t=n(t,"%3.0f",(100*i-100).toFixed()),t=n(t,"%%","%")}}else if("CommunityPlazaWeight"==u){let o=yield m(e,s,a,r.target?.["#text"]);"Assign"==r["@relativity"]?(t=yield e.getLocalizedStringBySymbol("cStringSetCommunityPlazaWeightEffect"),t=n(t,"%1s",o),t=n(t,"%3.2f",i.toFixed(2))):"Absolute"==r["@relativity"]?(t=yield e.getLocalizedStringBySymbol("cStringAddCommunityPlazaWeightEffect"),t=n(t,"%1s",o),t=n(t,"%2.2f",i.toFixed(2))):("BasePercent"==r["@relativity"]||"Percent"==r["@relativity"])&&(t=i>1?yield e.getLocalizedStringBySymbol("cStringIncreaseCommunityPlazaWeightEffect"):yield e.getLocalizedStringBySymbol("cStringDecreaseCommunityPlazaWeightEffect"),t=n(t,"%1s",o),t=n(t,"%2.0f",(100*i-100).toFixed()),t=n(t,"%%","%"))}else if("ResourceReturn"==u){let o=yield m(e,s,a,r.target?.["#text"]),c=yield C(e,r);"Assign"==r["@relativity"]?(t=yield e.getLocalizedStringBySymbol("cStringSetResourceReturnEffect"),t=n(t,"%1s",o),t=n(t,"%2.2f",i.toFixed(2)),t=n(t,"%3s",c)):"Absolute"==r["@relativity"]?(t=yield e.getLocalizedStringBySymbol("cStringAddResourceReturnEffect"),t=n(t,"%1s",o),t=n(t,"%2.2f",i.toFixed(2)),t=n(t,"%3s",c)):("BasePercent"==r["@relativity"]||"Percent"==r["@relativity"])&&(t=i>1?yield e.getLocalizedStringBySymbol("cStringIncreaseResourceReturnEffect"):yield e.getLocalizedStringBySymbol("cStringDereaseResourceReturnEffect"),t=n(t,"%1s",o),t=n(t,"%2.0f",(100*i-100).toFixed()),t=n(t,"%3s",c),t=n(t,"%%","%"))}else if("LivestockRecoveryRate"==u){let o=yield m(e,s,a,r.target?.["#text"],r.target?.["@type"]),c=yield C(e,r);"Assign"==r["@relativity"]?(t=yield e.getLocalizedStringBySymbol("cStringSetLivestockRecoveryRateEffect"),t=n(t,"%1s",o),t=n(t,"%2s",c),t=n(t,"%3.2f",i.toFixed(2))):"Absolute"==r["@relativity"]?(t=yield e.getLocalizedStringBySymbol("cStringAddLivestockRecoveryRateEffect"),t=n(t,"%1s",o),t=n(t,"%2.2f",i.toFixed(2)),t=n(t,"%3s",c)):("BasePercent"==r["@relativity"]||"Percent"==r["@relativity"])&&(t=i>1?yield e.getLocalizedStringBySymbol("cStringIncreaseLivestockRecoveryRateEffect"):yield e.getLocalizedStringBySymbol("cStringDecreaseLivestockRecoveryRateEffect"),t=n(t,"%1s",o),t=n(t,"%2s",c),t=n(t,"%3.0f",(100*i-100).toFixed()),t=n(t,"%%","%"))}else if("LivestockExchangeRate"==u){let o=yield m(e,s,a,r.target?.["#text"],r.target?.["@type"]),c=yield C(e,r);"Assign"==r["@relativity"]?(t=yield e.getLocalizedStringBySymbol("cStringSetLivestockExchangeRateEffect"),t=n(t,"%1s",o),t=n(t,"%2s",c),t=n(t,"%3.2f",i.toFixed(2))):"Absolute"==r["@relativity"]?(t=yield e.getLocalizedStringBySymbol("cStringAddLivestockExchangeRateEffect"),t=n(t,"%1s",o),t=n(t,"%2.2f",i.toFixed(2)),t=n(t,"%3s",c)):("BasePercent"==r["@relativity"]||"Percent"==r["@relativity"])&&(t=i>1?yield e.getLocalizedStringBySymbol("cStringIncreaseLivestockExchangeRateEffect"):yield e.getLocalizedStringBySymbol("cStringDecreaseLivestockExchangeRateEffect"),t=n(t,"%1s",o),t=n(t,"%2s",c),t=n(t,"%3.0f",(100*i-100).toFixed()),t=n(t,"%%","%"))}else if("CarryCapacity"==u){let o=yield m(e,s,a,r.target?.["#text"],r.target?.["@type"]),c=yield C(e,r);"Assign"==r["@relativity"]?(t=yield e.getLocalizedStringBySymbol("cStringSetCarryCapacityEffect"),t=n(t,"%1s",o),t=n(t,"%2s",c),t=n(t,"%3.2f",i.toFixed(2))):"Absolute"==r["@relativity"]?(t=yield e.getLocalizedStringBySymbol("cStringAddCarryCapacityEffect"),t=n(t,"%1s",o),t=n(t,"%2.2f",i.toFixed(2)),t=n(t,"%3s",c)):("BasePercent"==r["@relativity"]||"Percent"==r["@relativity"])&&(t=i>1?yield e.getLocalizedStringBySymbol("cStringIncreaseCarryCapacityEffect"):yield e.getLocalizedStringBySymbol("cStringDecreaseCarryCapacityEffect"),t=n(t,"%1s",o),t=n(t,"%2s",c),t=n(t,"%3.0f",(100*i-100).toFixed()),t=n(t,"%%","%"))}else if("ModifyRate"==u){let o=yield m(e,s,a,r.target?.["#text"],r.target?.["@type"]),c=yield I(e,s,r,a,d);"Assign"==r["@relativity"]?(t=yield e.getLocalizedStringBySymbol("cStringSetModifyRateEffect"),t=n(t,"%1s",o),t=n(t,"%2s",c),t=n(t,"%3.2f",i.toFixed(2))):"Absolute"==r["@relativity"]?(t=yield e.getLocalizedStringBySymbol("cStringAddModifyRateEffect"),t=n(t,"%1s",o),t=n(t,"%2.2f",i.toFixed(2)),t=n(t,"%3s",c)):("BasePercent"==r["@relativity"]||"Percent"==r["@relativity"])&&(t=i>1?yield e.getLocalizedStringBySymbol("cStringIncreaseModifyRateEffect"):yield e.getLocalizedStringBySymbol("cStringDecreaseModifyRateEffect"),t=n(t,"%1s",o),t=n(t,"%2s",c),t=n(t,"%3.0f",(100*i-100).toFixed()),t=n(t,"%%","%"))}else if("InvestResource"==u){t=yield e.getLocalizedStringBySymbol("cStringInvestResourceEffect");let o=yield m(e,s,a,r.target?.["#text"],r.target?.["@type"]),c=yield C(e,r);t=n(t,"%1s",o),t=n(t,"%2.2f",i.toFixed()),t=n(t,"%3s",c)}else if("TacticArmor"==u){let o=yield m(e,s,a,r.target?.["#text"],r.target?.["@type"]),c=yield Ht(e,r["@tactic"]),p=yield nt(e,r["@armortype"]);"Assign"==r["@relativity"]?(t=yield e.getLocalizedStringBySymbol("cStringSetTacticArmorEffect"),t=n(t,"%1s",o),t=n(t,"%2s",p),t=n(t,"%3.2f",i.toFixed(2)),t=n(t,"%4s",c)):"Absolute"==r["@relativity"]?(t=yield e.getLocalizedStringBySymbol("cStringAddTacticArmorEffect"),t=n(t,"%1s",o),t=n(t,"%2.2f",i.toFixed(2)),t=n(t,"%3s",p),t=n(t,"%4s",c)):("BasePercent"==r["@relativity"]||"Percent"==r["@relativity"])&&(t=i>1?yield e.getLocalizedStringBySymbol("cStringIncreaseTacticArmorEffect"):yield e.getLocalizedStringBySymbol("cStringDecreaseTacticArmorEffect"),t=n(t,"%1s",o),t=n(t,"%2s",p),t=n(t,"%3.0f",(100*i-100).toFixed()),t=n(t,"%%","%"),t=n(t,"%4s",p))}}""!=t&&h.push({text:t,pop:Q})}if("AddHomeCityCard"==W){t=e.getLocalizedString(110265);let o=V(s,r["@tech"]);t+=" "+e.getLocalizedString(o.displaynameid),h.push({text:t,pop:0})}if("TechStatus"==W&&!l["@name"].includes("BloodBrothers")&&Pt(r["#text"])){let o;if(o=yield V(s,r["#text"]),o)if(o.displaynameid){let c=yield e.getLocalizedString(o.displaynameid),p=yield e.getLocalizedStringBySymbol("cStringTechSetStatusEffect"),O=yield It(e,r["@status"]);p=p.replace("%1s",c),p=p.replace("%2s",O),h.push({text:p,pop:0})}else{let c=yield m(e,s,a,r["#text"]);if(""!=c){let p=yield e.getLocalizedStringBySymbol("cStringTechSetStatusEffect"),O=yield It(e,r["@status"]);p=p.replace("%1s",c),p=p.replace("%2s",O),h.push({text:p,pop:0})}}else console.error("no tech: "+r["#text"])}}return"DEHCAdvancedLombard"==l["@name"]&&h.splice(3),h})).apply(this,arguments)}function Bt(){return Bt=(0,y.A)(function*(e,s){let l=q(et.civs.civ[function te(e){switch(e){case g.zj.Spanish:return 0;case g.zj.British:return 1;case g.zj.French:return 2;case g.zj.Portuguese:return 3;case g.zj.Dutch:return 4;case g.zj.Russians:return 5;case g.zj.Germans:return 6;case g.zj.Ottoman:return 7;case g.zj.Haudenosaunee:return 14;case g.zj.Lakota:return 15;case g.zj.Aztecs:return 16;case g.zj.Japanese:return 18;case g.zj.Chinese:return 19;case g.zj.Indians:return 20;case g.zj.Inca:return 26;case g.zj.Swedes:return 27;case g.zj.UnitedStates:return 37;case g.zj.Ethiopians:return 38;case g.zj.Hausa:return 39;case g.zj.Mexicans:return 41;case g.zj.Italians:return 43;case g.zj.Maltese:return 44}}(s)].agetech);return function ae(e,s){return Dt.apply(this,arguments)}(e,l[0].tech)}),Bt.apply(this,arguments)}function Dt(){return(Dt=(0,y.A)(function*(e,s){let l=[],d=K(yield V(e,s));for(let h=0;h<d.length;h++){let _=d[h];if("Enable"==_["@subtype"]&&"ProtoUnit"==_.target?.["@type"]){let w=$[_.target["#text"]];w&&l.push(w)}}return l})).apply(this,arguments)}function n(e,s,l){if("%%"==s)return e.replace("%%","%");let a=`%${s[1]}!${s.substring(2)}!`,d=`%${s[1]}!${s.substring(1)}!`;return e.replace(s,l).replace(a,l).replace(d,l)}let Ct={BroadsideAttack:38123,BuildingAttack:38118,RangedAttack:38133,ChargeBroadsideAttack:110529,RoundelAttack:125103,RoundelPierceAttack:125102,LanceChargeAttack:125108,ChargeAttack:38135,LongRangedAttack:38133,BuckshotChargeAttack:110085,EagleEyeChargeAttack:110581,RifleAttack:38133,AutoGatherOldenburg:43019,BowAttack:38133,TrampleHandAttack:38142,GuardianRangedAttack:42873,RepeatingRangedAttack:80875,LanceHandAttack:90321,TuckTuckTuckAttack:125111,AutoGather:43019,AntiShipAttack:38121,Gather:42178,GatherHacienda:42178,ShrineGather:63007,AutoGatherXP:61766,Heal:70488,VolleyRangedAttack:38127,DefendRangedAttack:38136,StaggerRangedAttack:38129,RangedBuildingAttack:113214,Build:69147,ChargePistolAttack:122272,AutoGatherCoin:43294,AutoGatherFood:43295,GreenwichTime:104848,MortarAttack:80907,HandAttack:38134,Stealth:46491,AutoGatherGold50:43019,AutoGatherInfluence50:43019,AutoGatherGold75:43019,AutoGatherInfluence25:43019,AutoGatherGold25:43019,AutoGatherInfluence75:43019,AutoGatherGold100:43019,MeleeHandAttack:38135,CoverHandAttack:38131,DefendHandAttack:38137,ObsidianChargeAttack:110555,RoundhouseAttack:68995,CannonAttack:38119,FlameAttack:70308,IncreaseHPWithUnits:110152,IncreaseHPWithUnits2:110152,IncreaseDamageWithUnits:110152,IncreaseDamageWithUnits2:110152,AutoGatherGold50NoMine:43019,AutoGatherInfluence50NoMine:43019,AutoGatherGold75NoMine:43019,AutoGatherInfluence25NoMine:43019,AutoGatherGold25NoMine:43019,AutoGatherInfluence75NoMine:43019,AutoGatherGold100NoMine:43019,TreeGatherRateBonus:68961,NaturalFoodAuraGranary:68961,NaturalFoodAuraGranary2:68961,AutoGatherXPDefaultNative:43019,AutoGatherXPSouthNative:43019,AutoGatherXPAsianNative:43019,AutoGatherXPAfricanNative:43019,GatherField:42178,AutoGatherInfluence:43019,ChargeMusketAttack:102627,SolidAttack:101111,ExplosiveAttack:101112,ChargeCarbineAttack:110171,Autogather:43019,NATAutoGatherCoinPlant:43019,NATAutoGatherCoinAnimal:43019,BuildingHP:48954,SpawnStrelet:69157,StaggerHandAttack:38132,VolleyHandAttack:38130,SabotageAttack:69742,ExtraDamage:48958,SpawnSettler:112438,SpawnSoldado:113109,GuardianAttack:42873,CaseShotAttack:91718,AreaGatherMine:91720,ExtraBounty:48943,AreaGatherFoodCrate:91721,AreaGatherMine2:91720,AreaGatherWoodCrate:91721,AreaGatherCoinCrate:91721,AreaGatherInfiniteCrate:91721,BombardAttack:38119,AreaGatherTree:91720,AreaGatherTree2:91720,ChargeRangedAttack:110597,deSpawnSettlerWagon:69180,RepeatingAttack:110145,SpawnBison:69158,GatlingAttack:38119,GatlingRepeatingAttack:110145,RangedShipAttack:38121,DefendRangedShipAttack:38121,IncreaseHPWithMilitaryUnits:110152,AutoGatherWoodField:103432,BuildRateBonus:103418,BuildingWorkRateBonus:103417,MineGatherRateBonus:68961,TownCenterBuildRateBonus:103418,TownCenterWorkRateBonus:103417,AutoGatherFood2:43295,VolleyLongRangedAttack:103116};function I(e,s,l,a,d){return Et.apply(this,arguments)}function Et(){return Et=(0,y.A)(function*(e,s,l,a,d){if(function ie(e){return"StaggerLongRangedAttack"==e||"DefendLongRangedAttack"==e||"StaggerLongRangedAttack"==e||"DefendLongRangedAttack"==e||"RangedAttackContained"==e||"ButtAttack"==e||"MortarBuildingAttack"==e}(l["@action"]))return"";if(l["@allactions"])return e.getLocalizedStringBySymbol("cStringAllActionsEffect");if(Ct[l["@action"]])return e.getLocalizedString(Ct[l["@action"]]);if(a==g.zj.Mexicans&&"RangedAttack2"==l["@action"])return e.getLocalizedString(38133);if("ProtoUnit"==l.target?.["@type"]){let _=yield Mt(e,l.target?.["#text"],l["@action"],a,d);if(""!=_)return _}let h=yield function ee(e,s){return Bt.apply(this,arguments)}(s,a);for(let _ of h){let w=yield Mt(e,_["@name"],l["@action"],a,d);if(""!=w)return w}return console.error("action not found in tactics: "+l.target?.["#text"]+", "+JSON.stringify(l)),""}),Et.apply(this,arguments)}function Mt(e,s,l,a,d){return xt.apply(this,arguments)}function xt(){return xt=(0,y.A)(function*(e,s,l,a,d){let h=null,_=$[s];if(_&&_.tactics&&(h=_.tactics.toLowerCase()),h||(h=function ne(e,s){if("AbstractMonk"==e)switch(s){case g.zj.Chinese:return"ypchinesemonk.tactics";case g.zj.Japanese:return"ypjapanesemonk.tactics";case g.zj.Indians:return"ypindianmonk.tactics"}else{if("AbstractChineseMonk"==e)return"ypchinesemonk.tactics";if("AbstractIndianMonk"==e)return"ypindianmonk.tactics";if("AbstractJapaneseMonk"==e)return"ypjapanesemonk.tactics";if("AbstractAfricanHero"==e)switch(s){case g.zj.Ethiopians:return"prince.tactics";case g.zj.Hausa:return"emir.tactics"}else{if("AbstractMountainMonastery"==e)return"monasteryethiopian.tactics";if("Herdable"==e||"AbstractBovine"==e||"AbstractCaprine"==e)return"herd.tactics";if("AbstractWall"==e)return"wall.tactics";if("AbstractSowar"==e||"AbstractCamel"==e)return"sowar.tactics";if("AbstractFishingBoat"==e)return"fishingboat.tactics";if("AbstractVillager"==e)return"settler.tactics";if("LogicalTypeLandEconomy"==e)return"settler.tactics";if("AbstractGrenadier"==e)return"grenadier.tactics";if("AbstractTradingPost"==e)return"tradingpost.tactics";if("AbstractElephant"==e)return"mahout.tactics";if("AbstractShrine"==e)return"shrine.tactics";if("LogicalTypeNavalMilitary"==e)return"caravel.tactics";if("AbstractSPCEuroTower"==e)return"combatbuilding.tactics";if("AbstractMusketeer"==e)return"soldado.tactics"}}return null}(s,a)),!h)return"";let w=yield function Ut(e,s){return ft.apply(this,arguments)}(h,d),r=q(w.tactics.action);for(let W of r)if(W.name["#text"]&&W.name["#text"].toLowerCase()==l.toLowerCase())return e.getLocalizedString(W.name["@stringid"]);return""}),xt.apply(this,arguments)}function Pt(e){return!e.endsWith("Refund")&&"DEHCImmigrantsStateCapitolShadow"!=e&&"DERollingArtilleryShipGatlingInf"!=e&&"deEnableBalloonPower"!=e&&"DEIndianFriendshipShadow"!=e&&"DEHCImmigrantsRussianShadow"!=e&&"DEFortConscription"!=e&&"ypFreeCoinCrate400Age1"!=e&&"DEHCRidingSchoolShadow"!=e&&"DEHCShipLongbowShadow"!=e&&"DEHCShipRangerShadow"!=e&&"deMapIsEuropean"!=e&&"DEWaardgeldersShadow"!=e&&"DEKeepImperialCrossbowmenTechsAlignedInBarracksShadow"!=e&&"DEKeepCrossbowmenTechsAlignedInBarracksShadow"!=e&&"DEHCShipCrossbowShadow"!=e&&"DEHCShipLandwehrShadow"!=e&&"DEHCShipWarWagonShadow"!=e&&"DEHCShipChevaulegerShadow"!=e&&"DECircleArmyIndicator"!=e&&"DEAltaCaliforniaShadow"!=e&&"EliteDogSoldierShadow"!=e&&"ChampionDogSoldierShadow"!=e&&"LegendaryDogSoldierShadow"!=e&&"deIndianDeliverVillagerShadow"!=e&&"DEHCBlueberriesShadow"!=e&&"MineWagonCardShadow"!=e&&"deEnableRoarOfTheLionPower"!=e&&"DESomaliHeyWatShadow"!=e&&"DESudaneseHeyWatShadow"!=e&&"DEJesuitHeyWatShadow"!=e&&"DEHCFazogliShadow"!=e&&"DEBigLevyUIFix"!=e&&"DEHegemonyGaananciShadow"!=e&&"DEHCFirearmsItalianShadow"!=e&&"DETransformCrateofInfluence"!=e&&"DESevenLawsShadow"!=e&&"DEMXLanceChargeShadow"!=e&&"DEDoloresImprovedShadow"!=e&&"DELombardyShadow"!=e&&"deAdvancedPoliticiansShadow"!=e&&"deDefaultPoliticianRewardShadow"!=e&&"DEHCShipHospitallerTeamShadow1"!=e&&"DEHCShipHospitallerTeamShadow2"!=e&&"DEHCShipRollingWoodMaltaShadow1"!=e&&"DEHCShipRollingWoodMaltaShadow2"!=e&&"NativeTreatyCree"!=e&&"ypNativeEmbassyEnableShadow"!=e&&"DEIndianFriendshipCree"!=e&&"deCardDeliverCreateShadow"!=e&&"deDefaultCratesShadow"!=e&&"deFedNewJerseyResourceShadow"!=e&&"DEImperialFlagShadow"!=e&&"DEZouaveShipShadowInf"!=e&&"DEHCFedTexanFortsShadow"!=e&&"ypNativeTreatyJesuit"!=e&&"DEIndianFriendshipJesuit"!=e&&"NativeTreatyZapotec"!=e&&"DEIndianFriendshipZapotec"!=e&&"NativeTreatyAztec"!=e&&"DEIndianFriendshipAztec"!=e&&"DEImperialFlagShadow"!=e&&"DEHFStringStrongNoblesHut"!=e&&"DEHFStringMightyNoblesHut"!=e&&"deVeteranRussianMusketeers"!=e&&"deVeteranRussianHalberdiers"!=e&&"deGuardRussianHalberdiers"!=e&&"deGuardRussianMusketeers"!=e}function m(e,s,l,a,d){return wt.apply(this,arguments)}function wt(){return(wt=(0,y.A)(function*(e,s,l,a,d){if(!a||""==a||"LogicalTypeAffectedByVillagerUpgrades"==a||"AgeUpgrade"==a)return"";if("deVeteranRussianMusketeers"==a)return e.getLocalizedString(126509);let h=a;if(null!=d){if("TechAll"==d)return e.getLocalizedStringBySymbol("cStringGeneral");if("Player"==d)return e.getLocalizedStringBySymbol("cStringPlayer")}if("DEFakeCard"==a)return e.getLocalizedStringBySymbol("cStringGeneral");if("DEAfricanSpecialTech"==a)return e.getLocalizedStringBySymbol("cStringGeneral");if("DEHospitalTechnology"==a)return e.getLocalizedStringBySymbol("cStringGeneral");if(a.endsWith("Enable"))return"";if("YPConsulateImprovement"==a)return e.getLocalizedStringBySymbol("cStringConsulateTech");if("ypConsulateBritishLifeGuards"==a)return e.getLocalizedString(64264);if("ypConsulateImprovementImperial"==a)return e.getLocalizedStringBySymbol("cStringGeneral");if("YPDockAsian"==a)return e.getLocalizedString(60381);if("'dePrince2"==a||"ypFishingBoatAsian"==a||"deGeneral2"==a||"deHanoverFactory"==a)return"";let _=$[a];if(_&&_.displaynameid)return e.getLocalizedString(_.displaynameid);if(a.includes("Consulate"))return"";if(a.startsWith("EarthCeremony"))return"";if(a.startsWith("EarthGiftCeremony")||"deTorpGeneric"==a)return"";if("HouseMed"==a)return"";if("HouseEast"==a)return"";if("HouseAztec"==a)return"";if("ypHouseIndian"==a)return"";if("AbstractMusketeer"==a)return e.getLocalizedStringBySymbol("cStringMusketeer");if("AbstractGrenadier"==a)return e.getLocalizedStringBySymbol("cStringGrenadier");if("AbstractWall"==a)return e.getLocalizedStringBySymbol("cStringAbstractWall");if("AbstractLightInfantry"==a)return e.getLocalizedStringBySymbol("cStringLightInfantry");if(a.endsWith("MercShipment"))return e.getLocalizedStringBySymbol("cStringGeneral");if("LogicalTypeHealed"==a)return e.getLocalizedString(113186);if("DEHCShipBattleshipRepeat"==a)return e.getLocalizedString(104845);if("AbstractAbusGun"==a)return e.getLocalizedStringBySymbol("cStringAbusGun");if("AbstractRifleman"==a)return e.getLocalizedStringBySymbol("cStringRifleman");if("ypImperialMonitors"==a)return"";if("ypImperialManOWar"==a||"MercType1"==a||a.endsWith("MercShipment"))return"";if("YPHCMercsRonin2"==a)return e.getLocalizedString(69415);if("YPHCMercsJatLancer1"==a)return e.getLocalizedString(61838);if("YPHCWokouChinese3"==a)return e.getLocalizedString(62849);if("ChurchGasLighting"==a)return e.getLocalizedString(23882);if("ChurchStandingArmy"==a)return e.getLocalizedString(23984);if("ChurchTownWatch"==a)return e.getLocalizedString(23389);if("ChurchMassCavalry"==a)return e.getLocalizedString(36207);if("ChurchMissionFervor"==a)return e.getLocalizedString(46980);if("DEMedicalScience"==a)return e.getLocalizedString(110141);if("DEBookOfAxum"==a)return e.getLocalizedString(103300);if("DEAxumChronicle"==a)return e.getLocalizedString(103404);if("DESolomonicDynasty"==a)return e.getLocalizedString(103302);if("AbstractCoyoteMan"==a)return e.getLocalizedStringBySymbol("cStringAbstractNameCoyote");if("DETradeRouteUpgrade"==a)return e.getLocalizedStringBySymbol("cStringGeneral");if("ypMarketBerryDogs"==a)return e.getLocalizedString(65469);if("ypMarketSpiritMedicine"==a)return e.getLocalizedString(66472);if("ypMarketWheelbarrow"==a)return e.getLocalizedString(68618);if("ypMarketGangsaw"==a)return e.getLocalizedString(63978);if("ypMarketHuntingDogs"==a)return e.getLocalizedString(63976);if("ypMarketPlacerMines"==a)return e.getLocalizedString(63980);if("DEAfricanVillagerHunting1"==a)return e.getLocalizedString(104100);if("DEAfricanVillagerWoodcutting1"==a)return e.getLocalizedString(104117);if("deSaloonHighwayman"==a)return"";if("BigDockCipactli"==a)return e.getLocalizedString(46182);if("AbstractLightCavalry"==a)return e.getLocalizedStringBySymbol("cStringLightCavalry");if("AbstractFoodCrate"==a)return e.getLocalizedString(26021);if("AbstractWoodCrate"==a)return e.getLocalizedString(26025);if("AbstractCoinCrate"==a)return e.getLocalizedString(26029);if("AbstractXPCrate"==a)return e.getLocalizedString(110518);if("ChurchWallensteinsContracts"==a)return e.getLocalizedString(23978);if("AbstractTradeFoodCrate"==a)return e.getLocalizedStringBySymbol("cStringTradeFoodCrate");if("AbstractTradeWoodCrate"==a)return e.getLocalizedStringBySymbol("cStringTradeWoodCrate");if("AbstractTradeCoinCrate"==a)return e.getLocalizedStringBySymbol("cStringTradeCoinCrate");if("AbstractTradeCrate"==a)return"";if("AbstractBovine"==a)return e.getLocalizedStringBySymbol("cStringAbstractBovine");if("AbstractCaprine"==a)return e.getLocalizedStringBySymbol("cStringAbstractCaprine");if(9==l)if(a.startsWith("BigCorral"))a=a.replace("BigCorral","");else if(a.startsWith("BigSiegeshop"))a=a.replace("BigSiegeshop","");else if(a.startsWith("BigFirepit"))a=a.replace("BigFirepit","");else{if(a.startsWith("BigFarm"))return e.getLocalizedString(45713);if(a.startsWith("BigWarHut"))a=a.replace("BigWarHut","");else{if(a.startsWith("BigMarket"))return e.getLocalizedString(45897);a.startsWith("BigPlantation")?a=a.replace("BigPlantation",""):a.startsWith("BigLonghouse")?a=a.replace("BigLonghouse",""):a.startsWith("BigDock")?a=a.replace("BigDock",""):a.startsWith("Big")?a=(a=a.replace("Big","")).replace("Iroquois","Haudenosaunee"):a.startsWith("deBig")?a=(a=a.replace("deBig","")).replace("Iroquois","Haudenosaunee"):a.startsWith("DEBig")&&(a=(a=a.replace("DEBig","")).replace("Iroquois","Haudenosaunee"))}}if(10==l){if(a.endsWith("TransformTravois"))return"";if((a=(a=a.replace("DogSoldier","TokalaSoldier")).replace("Sioux","Lakota")).startsWith("BigDock"))a=a.replace("BigDock","");else if(a.startsWith("BigWarHut"))a=a.replace("BigWarHut","");else if(a.startsWith("BigCorral"))a=a.replace("BigCorral","");else if(a.startsWith("BigPlantation"))a=a.replace("BigPlantation","");else{if(a.startsWith("BigFarm"))return e.getLocalizedString(46136);if(a.startsWith("BigMarket"))return e.getLocalizedString(45897);if(a.startsWith("BigFirepit"))a=a.replace("BigFirepit","");else{if("DEBigTribalMarketplaceCoopLakota"==a)return e.getLocalizedString(72578);if("deBigEmbassyGunRunning"==a)a=a.replace("deBigEmbassy","");else{if("deBigTeepeeLakotaLands"==a)return e.getLocalizedString(126746);a.startsWith("Big")?a=a.replace("Big",""):a.startsWith("deBig")?a=a.replace("deBig",""):a.startsWith("DEBig")&&(a=a.replace("DEBig",""))}}}}if(a.startsWith("LogicalTypePickable")?a=a.replace("LogicalTypePickable",""):a.startsWith("LogicalType")?a=a.replace("LogicalType",""):a.startsWith("YP")||a.startsWith("yp")||a.startsWith("XP")&&a.length>2||a.startsWith("xp")?a=a.substring(2):a.startsWith("deSPC")?a=a.substring(5):a.startsWith("DE")||a.startsWith("de")?a=a.substring(2):a.startsWith("Abstract")?a=a.replace("Abstract",""):a.startsWith("BigDock")?a=a.replace("BigDock",""):a.startsWith("Church")?a=a.replace("Church",""):a.startsWith("HCXPIroquois")&&(a=a.replace("HCXPIroquois","")),"LandEconomy"==a)return e.getLocalizedStringBySymbol("cStringLandEconomy");if("AbbassidMarket"==a)return e.getLocalizedString(32343);if("TopcuCorps"==a)return e.getLocalizedString(23768);if("TufanciCorps"==a)return e.getLocalizedString(23765);if("Warship"==a||"NavalMilitary"==a)return e.getLocalizedStringBySymbol("cStringWarShip");if("Ship"==a)return e.getLocalizedStringBySymbol("cStringAbstractShips");if("Village"==a)return e.getLocalizedString(60227);if("Food"==a||"Wood"==a||"Gold"==a||"XP"==a)return e.getLocalizedStringBySymbol(`cStringResourceName${a}`);if("Building"==a)return e.getLocalizedStringBySymbol("cStringAbstractNameBuilding");if("GroveBuilding"==a)return e.getLocalizedString(60958);if("BerryBuilding"==a)return e.getLocalizedString(65997);if("TorpBush2"==a)return e.getLocalizedString(91760);if("Huntable"==a)return e.getLocalizedStringBySymbol("cStringAbstractNameHuntable");if("Herdable"==a)return e.getLocalizedStringBySymbol("cStringAbstractNameHerdable");if("Plantation"==a)return e.getLocalizedString(26042);if("RicePaddy"==a)return e.getLocalizedString(60204);if("Gangsaw"==a)return e.getLocalizedString(11070);if("Flintlock"==a)return e.getLocalizedString(23331);if("VeteranUSRegulars"==a)return e.getLocalizedString(110072);if("USCavalry"==a)return e.getLocalizedString(110018);if("EconomicUnit"==a)return e.getLocalizedStringBySymbol("cStringHCMfgPlantGermanRolloverDELETEME");if("Lancer"==a)return e.getLocalizedStringBySymbol("cStringLancer");if("ImperialManOWar"==a)return e.getLocalizedString(31112);if("ShipHowitzers"==a)return e.getLocalizedString(27247);if("PercussionLocks"==a)return e.getLocalizedString(27245);if("ShipHowitzersAmerican"==a)return e.getLocalizedString(104875);if("WarCanoeDamage"==a)return e.getLocalizedString(104877);if("WarCanoeHitpoints"==a)return"";if("LegendaryWarCanoes"==a)return e.getLocalizedString(104879);if("RangedShockInfantry"==a)return e.getLocalizedString(44138);if("MonasteryTech"==a)return e.getLocalizedStringBySymbol("cStringMonasteryTech");if("UpgradeTech"==a)return e.getLocalizedStringBySymbol("cStringTechUpgrade");if("UnitClass"==a)return e.getLocalizedStringBySymbol("cStringAbstractUnit");if("Hero"==a)return e.getLocalizedString(42175);if("ChineseMonk"==a)return e.getLocalizedString(66323);if("JapaneseMonk"==a)return e.getLocalizedString(66351);if("HandInfantry"==a)return e.getLocalizedString(25628);if("FootArcher"==a)return e.getLocalizedString(110165);if("HandCavalry"==a)return e.getLocalizedString(25648);if("Cavalry"==a)return e.getLocalizedString(24100);if("Infantry"==a)return e.getLocalizedString(24098);if("RangedInfantry"==a)return e.getLocalizedString(42032);if("NativeImprovement"==a)return e.getLocalizedString(69381);if("NativeWarrior"==a)return e.getLocalizedString(19164);if("Villager"==a)return e.getLocalizedString(25708);if("Outpost"==a)return e.getLocalizedString(26307);if("Military"==a)return e.getLocalizedString(19038);if("Mercenary"==a)return e.getLocalizedString(42020);if("Fish"==a)return e.getLocalizedString(22207);if("FishingBoat"==a)return e.getLocalizedString(22962);if("Whale"==a)return e.getLocalizedString(43015);if("Tree"==a)return e.getLocalizedString(23828);if("Mine"==a)return e.getLocalizedString(42024);if("MountainMonastery"==a)return e.getLocalizedString(101137);if("Influence"==a)return e.getLocalizedString(101077);if("BerryBush"==a)return e.getLocalizedString(30221);if("WarShip"==a)return e.getLocalizedString(42036);if("Shrine"==a)return e.getLocalizedString(43496);if("HeavyInfantry"==a)return e.getLocalizedString(42017);if("Dock"==a)return e.getLocalizedString(22914);if("TradingPost"==a)return e.getLocalizedString(22837);if("Monk"==a)return e.getLocalizedString(63097);if("HeavyCavalry"==a)return e.getLocalizedString(25625);if("Artillery"==a)return e.getLocalizedString(24101);if("Unit"==a)return e.getLocalizedString(19160);if("BannerArmy"==a)return e.getLocalizedString(63673);if("SiegeElephant"==a)return e.getLocalizedString(60136);if("SequesterTech"==a)return e.getLocalizedString(61441);if("HomeCity"==a)return e.getLocalizedString(25942);if("Wonder"==a)return e.getLocalizedString(63669);if("MilitaryProductionBuilding"==a)return e.getLocalizedString(101098);if("GunpowderTrooper"==a)return e.getLocalizedString(42021);if("Outlaw"==a)return e.getLocalizedString(110185);if("AfricanHero"==a)return e.getLocalizedString(103437);if("Guardian"==a)return e.getLocalizedString(42025);if("SiegeTrooper"==a)return e.getLocalizedString(69637);if("LandMilitary"==a)return e.getLocalizedString(79820);if("Healer"==a)return e.getLocalizedString(25698);if("IndianMonk"==a)return e.getLocalizedString(68462);if("Sepoy"==a)return e.getLocalizedString(60807);if("Sowar"==a)return e.getLocalizedString(60120);if("Gurkha"==a)return e.getLocalizedString(60783);if("Camel"==a)return e.getLocalizedString(63668);if("Zamburak"==a)return e.getLocalizedString(60124);if("Elephant"==a)return e.getLocalizedString(63667);if("AgraFort"==a)return e.getLocalizedString(60263);if("Galleass"==a)return e.getLocalizedString(122307);if("Daimyo"==a)return e.getLocalizedString(60112);if("MilitaryBuilding"==a)return e.getLocalizedString(112772);if("RangedCavalry"==a)return e.getLocalizedString(25619);if("Torp"==a)return e.getLocalizedString(91523);if(d="Tech"){let w=yield V(s,h);if(w)return e.getLocalizedString(w.displaynameid)}return console.error("UnitKeyToName not found: "+a),""})).apply(this,arguments)}function J(e){return"LogicalTypeLandEconomy"==e||"LogicalTypeLandMilitary"==e||!e.startsWith("Logical")&&"IndustrialMercenary"!=e}function C(e,s){return e.getLocalizedStringBySymbol(`cStringResourceName${s["@resource"]}`)}function V(e,s){return e.getTech(s)}function q(e){return e?Array.isArray(e)?e:[e]:[]}function nt(e,s){return it.apply(this,arguments)}function it(){return(it=(0,y.A)(function*(e,s){switch(s){case"Hand":return e.getLocalizedString(35759);case"Ranged":return e.getLocalizedString(35760);case"Siege":return e.getLocalizedString(35761);default:return""}})).apply(this,arguments)}function Ht(e,s){return rt.apply(this,arguments)}function rt(){return(rt=(0,y.A)(function*(e,s){switch(s){case G.Volley:return e.getLocalizedString(55193);case G.Stagger:return e.getLocalizedString(55194);case G.Melee:return e.getLocalizedString(55195);case G.Defend:return e.getLocalizedString(30229);case G.StandGround:return e.getLocalizedString(66067);default:return""}})).apply(this,arguments)}function It(e,s){switch(s.toLowerCase()){case"active":return e.getLocalizedString(42092);case"none":return e.getLocalizedString(18302);case"obtainable":return e.getLocalizedString(42090);case"unobtainable":return e.getLocalizedString(42091)}return""}function K(e){let s=[],l=Object(e.effects);return l.effects&&l.effects.effect?s.push(l.effects.effect):l&&l.effect&&(Array.isArray(l.effect)?s=s.concat(l.effect):s.push(l.effect)),s}function Wt(e){switch(e){case 0:return"All";case 1:return"Solo";case 8:return"2v2";case 9:return"3v3";case 10:return"4v4";case 2:return"Team";case 3:return"Treaty";case 4:return"DM";case 5:return"EW Solo";case 6:return"EW Team"}return""}function A(e){return 1===e?"Age of Empires III: Definitive Edition":"Game Name"}function Ft(e){switch(e){case 1:return"1v1";case 8:return"2v2";case 9:return"3v3";case 10:return"4v4";default:return"Game Mode"}}function E(e){if(void 0===e)return"";const s=new Date(e);if(isNaN(s.getTime()))return"";const a=s.getMonth();return a<0||a>11?"":`${String(s.getDate()).padStart(2,"0")}/${["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][s.getMonth()]}/${s.getFullYear()}`}function Gt(e){if(void 0===e)return"";const s=new Date(e);if(isNaN(s.getTime()))return"";let l=s.getHours();const a=s.getMinutes(),d=l>=12?"PM":"AM";return l%=12,l=l||12,`${l}:${a<10?"0"+a:a} ${d}`}function jt(e){if(void 0===e||!e)return;const s=new Date(e),l=6e4*s.getTimezoneOffset();return new Date(s.getTime()+l).getTime()}function se(e){if(!e)return;const s=new Date(e),l=6e4*s.getTimezoneOffset();return new Date(s.getTime()-l)}},3207:(st,Y,x)=>{x.d(Y,{s:()=>R});var y=x(9350);function R(g,M){const G="object"==typeof M;return new Promise((D,f)=>{let H,L=!1;g.subscribe({next:P=>{H=P,L=!0},error:f,complete:()=>{L?D(H):G?D(M.defaultValue):f(new y.G)}})})}}}]);