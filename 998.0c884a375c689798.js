"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[998],{5998:(T,w,s)=>{s.r(w),s.d(w,{LeaderboardModule:()=>Kt});var m=s(177),P=s(4719),S=s(7315),b=s(4710),t=s(4438),C=s(6467),v=s(9213),k=s(850),D=s(6600);const l=["searchInput"];function p(n,i){if(1&n){const e=t.RV6();t.j41(0,"mat-icon",8),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.clearInput(!0))}),t.EFF(1," delete_outline "),t.k0s()}}function h(n,i){if(1&n&&(t.j41(0,"mat-option",9),t.EFF(1),t.k0s()),2&n){const e=i.$implicit;t.Y8G("value",e),t.R7$(),t.SpI(" ",e," ")}}let _=(()=>{class n{constructor(){this.OnSearchChanged=new t.bkB,this.OnAutoCompleteSelected=new t.bkB}onResize(e){0===this.searchInput.nativeElement.value.length&&(window.innerWidth>=600?this.adjustWidth(!0):this.adjustWidth(!1))}ngAfterViewInit(){this.blur()}expandSearch(){window.innerWidth<600&&(this.searchInput.nativeElement.focus(),this.adjustWidth(!0))}ngOnChanges(e){e.clearInputEvent&&""===e.clearInputEvent.currentValue&&this.clearInput(!1)}clearInput(e){this.searchInput&&this.searchInput.nativeElement&&(this.searchInput.nativeElement.value="",e&&this.OnSearchChanged.emit(this.searchInput.nativeElement.value))}onSearchChanged(e){this.OnSearchChanged.emit(e.target.value)}adjustWidth(e){setTimeout(()=>{this.searchInput.nativeElement.style.width=e?"300px":"35px"},0)}focus(){window.innerWidth<600&&this.adjustWidth(!0)}blur(){window.innerWidth<600&&""===this.searchInput.nativeElement.value?this.adjustWidth(!1):this.adjustWidth(!0)}autoCompleteSelected(e){this.OnAutoCompleteSelected.emit(e)}static#t=this.\u0275fac=function(a){return new(a||n)};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["app-search-expandable"]],viewQuery:function(a,o){if(1&a&&t.GBs(l,5),2&a){let r;t.mGM(r=t.lsd())&&(o.searchInput=r.first)}},hostBindings:function(a,o){1&a&&t.bIt("resize",function(c){return o.onResize(c)},!1,t.tSv)},inputs:{clearInputEvent:"clearInputEvent"},outputs:{OnSearchChanged:"OnSearchChanged",OnAutoCompleteSelected:"OnAutoCompleteSelected"},features:[t.OA$],decls:9,vars:3,consts:[["searchInput",""],["auto","matAutocomplete"],[1,"search-box"],["type","text","placeholder","Type to Search...",1,"input-search",3,"input","focus","blur","matAutocomplete"],["matPrefix","",1,"search-icon",3,"click"],["class","delete-icon","matSuffix","","color","warn",3,"click",4,"ngIf"],[3,"optionSelected"],[3,"value",4,"ngFor","ngForOf"],["matSuffix","","color","warn",1,"delete-icon",3,"click"],[3,"value"]],template:function(a,o){if(1&a){const r=t.RV6();t.j41(0,"div",2)(1,"input",3,0),t.bIt("input",function(f){return t.eBV(r),t.Njj(o.onSearchChanged(f))})("focus",function(){return t.eBV(r),t.Njj(o.focus())})("blur",function(){return t.eBV(r),t.Njj(o.blur())}),t.k0s(),t.j41(3,"mat-icon",4),t.bIt("click",function(){t.eBV(r);const f=t.sdS(2);return t.Njj(f.focus())}),t.EFF(4,"search"),t.k0s(),t.DNE(5,p,2,0,"mat-icon",5),t.j41(6,"mat-autocomplete",6,1),t.bIt("optionSelected",function(f){return t.eBV(r),t.Njj(o.autoCompleteSelected(f.option.value))}),t.DNE(8,h,2,2,"mat-option",7),t.k0s()()}if(2&a){const r=t.sdS(2),c=t.sdS(7);t.R7$(),t.Y8G("matAutocomplete",c),t.R7$(4),t.Y8G("ngIf",r.value),t.R7$(3),t.Y8G("ngForOf",o.autoCompleteList)}},dependencies:[m.Sq,m.bT,C.JW,C.yw,v.An,k.$3,D.wT,k.pN],styles:['.search-box[_ngcontent-%COMP%]{display:flex;align-items:center;font-family:"Source Sans 3"!important;width:-moz-fit-content;width:fit-content;height:-moz-fit-content;height:fit-content;position:relative}.input-search[_ngcontent-%COMP%]{height:35px;width:300px;border-style:none;padding:10px 40px;font-size:1rem;letter-spacing:1px;outline:none;transition:all .5s ease-in-out;color:#fff;background:#252525e6;border:1px solid rgba(37,37,37,.5);background-blend-mode:multiply;border-radius:3px 3px 0 0;border-bottom:1px solid #ffbf0040}.input-search[_ngcontent-%COMP%]:hover{background:linear-gradient(145deg,#25252580,#29292980,#25252580,#14141480);box-shadow:inset 0 18px 4px #70707033,0 2px 6px #00000080}.input-search[_ngcontent-%COMP%]::placeholder{color:#ffffff80;font-size:1rem;letter-spacing:1px;font-weight:100}.input-search[_ngcontent-%COMP%]:focus{width:300px;border-radius:2px 2px 0 0;background-color:transparent;border-bottom:1px solid var(--yellow-brand);transition:all .5s cubic-bezier(0,.11,.35,2)}.search-icon[_ngcontent-%COMP%]{position:absolute;left:10px;top:50%;transform:translateY(-50%);color:#787878}.input-search[_ngcontent-%COMP%]:focus ~ .search-icon[_ngcontent-%COMP%]{color:var(--yellow-brand)}.delete-icon[_ngcontent-%COMP%]{position:absolute;right:10px;top:50%;transform:translateY(-50%)}']})}return n})();var g=s(6695),d=s(9159),y=s(1626),x=s(5440);let R=(()=>{class n{constructor(e){this.httpClient=e,this.headers=(new y.Lr).set("Content-Type","application/json"),this.apiClanDetails="/clan/clanDetails",this.apiClanLeaderboard="/clan/getClanLeaderboard"}getClanDetails(e){return this.httpClient.get(x.p+this.apiClanDetails+"?clanAbbreviation="+e)}getClansLeaderboard(){return this.httpClient.get(x.p+this.apiClanLeaderboard)}static#t=this.\u0275fac=function(a){return new(a||n)(t.KVO(y.Qq))};static#e=this.\u0275prov=t.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var E=s(9115),$=s(8834),G=s(9183);const B=n=>({"button-text":!0,"label-text":n}),V=()=>[10,15,25,50,100];function N(n,i){if(1&n&&(t.j41(0,"div",18),t.EFF(1),t.k0s()),2&n){const e=t.XpG();t.R7$(),t.SpI(" ",e.selectedMemberCount," or more ")}}function A(n,i){if(1&n){const e=t.RV6();t.j41(0,"div",19),t.bIt("click",function(){const o=t.eBV(e).$implicit,r=t.XpG();return t.Njj(r.selectMemberCount(o))}),t.EFF(1),t.k0s()}if(2&n){const e=i.$implicit;t.R7$(),t.SpI(" ",e," or more ")}}function z(n,i){1&n&&(t.j41(0,"div"),t.nrm(1,"mat-spinner",20),t.k0s()),2&n&&(t.R7$(),t.Y8G("diameter",50))}function X(n,i){1&n&&t.nrm(0,"tr",34)}function U(n,i){1&n&&(t.j41(0,"th",35),t.EFF(1,"#"),t.k0s())}function Y(n,i){if(1&n&&(t.j41(0,"td",36),t.EFF(1),t.k0s()),2&n){const e=i.index,a=t.XpG(2);t.R7$(),t.SpI(" ",a.getSerialNumber(e)," ")}}function K(n,i){1&n&&(t.j41(0,"th",35),t.EFF(1,"Tag"),t.k0s())}function W(n,i){if(1&n&&(t.j41(0,"td",36),t.EFF(1),t.k0s()),2&n){const e=i.$implicit;t.R7$(),t.SpI(" ",e.clanAbbreviation," ")}}function H(n,i){1&n&&(t.j41(0,"th",35),t.EFF(1,"Name"),t.k0s())}function J(n,i){if(1&n&&(t.j41(0,"td",36),t.EFF(1),t.k0s()),2&n){const e=i.$implicit;t.R7$(),t.JRh(e.clanFullName)}}function q(n,i){if(1&n&&(t.j41(0,"th",35),t.EFF(1),t.k0s()),2&n){const e=t.XpG(2);t.R7$(),t.SpI(" ",e.getSelectedRatingHeader()," ")}}function Q(n,i){if(1&n&&(t.j41(0,"td",36),t.EFF(1),t.k0s()),2&n){const e=i.$implicit,a=t.XpG(2);t.R7$(),t.SpI(" ",a.getSelectedRating(e)," ")}}function Z(n,i){1&n&&(t.j41(0,"th",35),t.EFF(1,"Members"),t.k0s())}function tt(n,i){if(1&n&&(t.j41(0,"td",36),t.EFF(1),t.k0s()),2&n){const e=i.$implicit;t.R7$(),t.JRh(e.memberCount)}}function et(n,i){1&n&&(t.j41(0,"th",35),t.EFF(1,"Description"),t.k0s())}function nt(n,i){if(1&n&&(t.j41(0,"td",36),t.EFF(1),t.k0s()),2&n){const e=i.$implicit;t.R7$(),t.SpI(" ",e.clanDescription," ")}}function at(n,i){if(1&n){const e=t.RV6();t.j41(0,"tr",37),t.bIt("click",function(){const o=t.eBV(e).$implicit,r=t.XpG(2);return t.Njj(r.onRowClicked(o.clanAbbreviation))}),t.k0s()}}function ot(n,i){if(1&n&&(t.qex(0),t.j41(1,"div",21)(2,"table",22)(3,"thead"),t.DNE(4,X,1,0,"tr",23),t.k0s(),t.j41(5,"tbody"),t.qex(6,24),t.DNE(7,U,2,0,"th",25)(8,Y,2,1,"td",26),t.bVm(),t.qex(9,27),t.DNE(10,K,2,0,"th",25)(11,W,2,1,"td",26),t.bVm(),t.qex(12,28),t.DNE(13,H,2,0,"th",25)(14,J,2,1,"td",26),t.bVm(),t.qex(15,29),t.DNE(16,q,2,1,"th",25)(17,Q,2,1,"td",26),t.bVm(),t.qex(18,30),t.DNE(19,Z,2,0,"th",25)(20,tt,2,1,"td",26),t.bVm(),t.qex(21,31),t.DNE(22,et,2,0,"th",25)(23,nt,2,1,"td",26),t.bVm(),t.DNE(24,at,1,0,"tr",32),t.k0s()(),t.nrm(25,"mat-paginator",33),t.k0s(),t.bVm()),2&n){const e=t.XpG();t.R7$(2),t.Y8G("dataSource",e.filteredClanList),t.R7$(2),t.Y8G("matHeaderRowDef",e.getDisplayedColumnNames()),t.R7$(20),t.Y8G("matRowDefColumns",e.getDisplayedColumnNames()),t.R7$(),t.Y8G("pageSizeOptions",t.lJ4(5,V))("pageSize",25)}}let it=(()=>{class n{selectMemberCount(e){this.selectedMemberCount=e,this.applyMemberFilter()}constructor(e,a){this.clanService=e,this.router=a,this.displayedColumns=["SerialNumber","Tag","Name","Rating","Members","Description"],this.clanList=[],this.filteredClanList=new d.I6,this.selectedRatingFilter="solo",this.memberCountOptions=[1,5,10,15,25,40,65,100,170,200],this.isSearchActive=!1,this.search=""}ngOnInit(){this.subscription=this.clanService.getClansLeaderboard().subscribe({next:this.handleClanListResponse.bind(this),error:this.handleClanListError.bind(this)})}ngAfterViewInit(){this.filteredClanList.paginator=this.paginator}ngOnChanges(e){e.search&&(this.filteredClanList.filter=this.search,this.filteredClanList.paginator&&this.filteredClanList.paginator.firstPage())}toggleSearch(){this.isSearchActive=!this.isSearchActive}handleClanListResponse(e){e&&(this.clanList=e,this.applyFilters())}handleClanListError(e){console.error(e)}getDisplayedColumnNames(){return this.displayedColumns}applyFilter(e){const a=e.target.value.trim().toLowerCase();this.filteredClanList.filter=a,this.filteredClanList.paginator&&this.filteredClanList.paginator.firstPage()}setRatingFilter(e){this.selectedRatingFilter=e,this.applyFilters()}applyRatingFilter(){this.applyFilters()}applyMemberFilter(){this.applyFilters()}applyFilters(){let e=[...this.clanList];switch(this.selectedRatingFilter){case"solo":e.sort((a,o)=>(o.avgEloGameMode1||0)-(a.avgEloGameMode1||0));break;case"team":e.sort((a,o)=>(o.avgEloGameMode2||0)-(a.avgEloGameMode2||0));break;case"treaty":e.sort((a,o)=>(o.avgEloGameMode3||0)-(a.avgEloGameMode3||0))}this.selectedMemberCount&&(e=e.filter(a=>a.memberCount>=this.selectedMemberCount)),this.filteredClanList.data=e,this.filteredClanList.paginator&&this.filteredClanList.paginator.firstPage()}getSelectedRating(e){switch(this.selectedRatingFilter){case"solo":return Math.ceil(e.avgEloGameMode1||0);case"team":return Math.ceil(e.avgEloGameMode2||0);case"treaty":return Math.ceil(e.avgEloGameMode3||0);default:return}}getSelectedRatingHeader(){switch(this.selectedRatingFilter){case"solo":return" Avg. Rating";case"team":case"treaty":return"Avg. Rating";default:return""}}getSerialNumber(e){return e+1+this.paginator.pageIndex*this.paginator.pageSize}onRowClicked(e){this.router.navigate(["/clan-details"],{queryParams:{clanAbbreviation:e}})}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}static#t=this.\u0275fac=function(a){return new(a||n)(t.rXU(R),t.rXU(b.Ix))};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["app-clans"]],viewQuery:function(a,o){if(1&a&&t.GBs(g.iy,5),2&a){let r;t.mGM(r=t.lsd())&&(o.paginator=r.first)}},inputs:{search:"search"},features:[t.OA$],decls:28,vars:15,consts:[["menu","matMenu"],[1,"dark-bg","rounded"],[1,"filter-container"],[1,"filter-buttons-wrapper"],[1,"filter-buttons"],["mat-raised-button","",3,"click"],[1,"filter-fields"],["mat-raised-button","",1,"member-count-button",3,"matMenuTriggerFor"],[1,"button-content"],[1,"icon-label"],["matPrefix","","color","primary"],[2,"width","10rem",3,"ngClass"],["class","selected-value",4,"ngIf"],[1,"arrow-down"],["matSuffix",""],[3,"overlapTrigger"],["class","dropdown-menu","mat-menu-item","",3,"click",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"selected-value"],["mat-menu-item","",1,"dropdown-menu",3,"click"],["mode","indeterminate",1,"spinner-container",3,"diameter"],[1,"table-container"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["mat-header-row","",4,"matHeaderRowDef"],["matColumnDef","SerialNumber"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","Tag"],["matColumnDef","Name"],["matColumnDef","Rating"],["matColumnDef","Members"],["matColumnDef","Description"],["class","content-row","mat-row","",3,"click",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"pageSizeOptions","pageSize"],["mat-header-row",""],["mat-header-cell",""],["mat-cell",""],["mat-row","",1,"content-row",3,"click"]],template:function(a,o){if(1&a){const r=t.RV6();t.j41(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"button",5),t.bIt("click",function(){return t.eBV(r),t.Njj(o.setRatingFilter("solo"))}),t.EFF(5," Solo "),t.k0s(),t.j41(6,"button",5),t.bIt("click",function(){return t.eBV(r),t.Njj(o.setRatingFilter("team"))}),t.EFF(7," Team "),t.k0s(),t.j41(8,"button",5),t.bIt("click",function(){return t.eBV(r),t.Njj(o.setRatingFilter("treaty"))}),t.EFF(9," Treaty "),t.k0s()()(),t.j41(10,"div",6)(11,"button",7)(12,"div",8)(13,"div",9)(14,"mat-icon",10),t.EFF(15,"people"),t.k0s(),t.j41(16,"div",11)(17,"div"),t.EFF(18,"Member Count"),t.k0s(),t.DNE(19,N,2,1,"div",12),t.k0s()(),t.j41(20,"div",13)(21,"mat-icon",14),t.EFF(22,"keyboard_arrow_down"),t.k0s()()()(),t.j41(23,"mat-menu",15,0),t.DNE(25,A,2,1,"div",16),t.k0s()()(),t.DNE(26,z,2,1,"div",17)(27,ot,26,6,"ng-container",17),t.k0s()}if(2&a){const r=t.sdS(24);t.R7$(4),t.AVh("active","solo"===o.selectedRatingFilter),t.R7$(2),t.AVh("active","team"===o.selectedRatingFilter),t.R7$(2),t.AVh("active","treaty"===o.selectedRatingFilter),t.R7$(3),t.Y8G("matMenuTriggerFor",r),t.R7$(5),t.Y8G("ngClass",t.eq3(13,B,o.selectedMemberCount)),t.R7$(3),t.Y8G("ngIf",o.selectedMemberCount),t.R7$(4),t.Y8G("overlapTrigger",!1),t.R7$(2),t.Y8G("ngForOf",o.memberCountOptions),t.R7$(),t.Y8G("ngIf",!o.clanList),t.R7$(),t.Y8G("ngIf",o.clanList)}},dependencies:[m.YU,m.Sq,m.bT,d.Zl,d.tL,d.ji,d.cC,d.YV,d.iL,d.KS,d.$R,d.YZ,d.NB,g.iy,C.JW,C.yw,v.An,E.kk,E.fb,E.Cp,$.$z,G.LG],styles:['.top-nav[_ngcontent-%COMP%]{display:flex}.filter-container[_ngcontent-%COMP%]{display:flex;gap:1rem;justify-content:space-between;padding:1rem;flex-wrap:wrap}.filter-buttons-wrapper[_ngcontent-%COMP%]{overflow-x:auto;overflow-y:hidden;display:flex}.filter-buttons[_ngcontent-%COMP%]{display:flex;gap:1rem}.filter-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:2.5rem;width:9rem;font-family:Trajan Pro;font-size:1rem;border-radius:5px}.filter-buttons[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background-color:var(--yellow-brand);color:#000}.filter-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:var(--yellow-brand-hover)}.filter-fields[_ngcontent-%COMP%]{display:flex;gap:3rem;flex-wrap:wrap;justify-content:flex-end;align-items:center}button.member-count-button[_ngcontent-%COMP%]{text-align:left;font-family:"Source Sans 3";font-size:1rem;height:2.5rem;width:15rem;border-radius:5px}button.member-count-button[_ngcontent-%COMP%]:hover{background-color:var(--yellow-brand-hover)}.button-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between!important}.icon-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.button-text[_ngcontent-%COMP%]{display:flex;flex-direction:column;font-family:"Source Sans 3"}.label-text[_ngcontent-%COMP%]{font-size:.8rem;color:gray;line-height:1.1;letter-spacing:0}.selected-value[_ngcontent-%COMP%]{font-size:1rem;color:#fff;text-align:left}.arrow-down[_ngcontent-%COMP%]{display:flex}.dropdown-menu[_ngcontent-%COMP%]{width:15rem;border-radius:0}.action-button[_ngcontent-%COMP%]{color:var(--yellow-brand)!important;background-color:#454545!important}table[_ngcontent-%COMP%]{width:100%;table-layout:auto;background-color:#0000}th[_ngcontent-%COMP%]{font-family:Trajan Pro;font-size:1rem;color:var(--yellow-brand);text-shadow:2px 2px 4px #00000025;padding-top:1rem}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{word-wrap:break-word;white-space:nowrap;vertical-align:middle;align-items:center;border:none}.content-row[_ngcontent-%COMP%]{font-family:"Source Sans 3";font-size:1rem;border-bottom:none!important}.content-row[_ngcontent-%COMP%]:nth-child(odd){background-color:#18181880}.content-row[_ngcontent-%COMP%]:nth-child(2n){background-color:#1818181a}.content-row[_ngcontent-%COMP%]:nth-child(odd):hover, .content-row[_ngcontent-%COMP%]:nth-child(2n):hover{background-color:#ffc1001a;cursor:pointer}th[_ngcontent-%COMP%]:nth-child(1), th[_ngcontent-%COMP%]:nth-child(4), th[_ngcontent-%COMP%]:nth-child(5), td[_ngcontent-%COMP%]:nth-child(1), td[_ngcontent-%COMP%]:nth-child(4), td[_ngcontent-%COMP%]:nth-child(5){text-align:center}th.mat-column-SerialNumber[_ngcontent-%COMP%], td.mat-column-SerialNumber[_ngcontent-%COMP%]{width:5%}th.mat-column-Tag[_ngcontent-%COMP%], td.mat-column-Tag[_ngcontent-%COMP%]{width:10%}th.mat-column-Name[_ngcontent-%COMP%], td.mat-column-Name[_ngcontent-%COMP%]{width:15%}th.mat-column-Rating[_ngcontent-%COMP%], td.mat-column-Rating[_ngcontent-%COMP%], th.mat-column-Members[_ngcontent-%COMP%], td.mat-column-Members[_ngcontent-%COMP%]{width:10%}th.mat-column-Description[_ngcontent-%COMP%], td.mat-column-Description[_ngcontent-%COMP%]{width:50%}mat-paginator[_ngcontent-%COMP%]{background-color:#18181800}@media (max-width: 800px){.table-container[_ngcontent-%COMP%]{overflow-x:auto}.filter-container[_ngcontent-%COMP%]{flex-direction:column;align-items:center;z-index:1}.filter-fields[_ngcontent-%COMP%]{gap:1rem;align-items:center;z-index:2}.filter-buttons-wrapper[_ngcontent-%COMP%]{overflow-x:auto;overflow-y:hidden;display:flex;width:100%}}']})}return n})();var u=s(9327),I=s(4823),rt=s(467),F=s(2042),st=s(4843),j=s(9437),L=s(2427),ct=s(4506),lt=s(3044);function dt(n,i){if(1&n&&(t.qex(0),t.j41(1,"div")(2,"span",1),t.EFF(3),t.k0s(),t.j41(4,"span",2),t.EFF(5),t.k0s(),t.j41(6,"span",3),t.EFF(7),t.k0s(),t.j41(8,"span",2),t.EFF(9," games winning streak!"),t.k0s()(),t.bVm()),2&n){const e=t.XpG();t.R7$(3),t.JRh(e.nameStreak),t.R7$(2),t.SpI(" is on ",e.qualifier,""),t.R7$(2),t.SpI(" ",e.streak,"")}}let pt=(()=>{class n{constructor(e,a,o){this.leaderboardService=e,this.router=a,this.route=o,this.isInfoGot=!1}ngOnChanges(e){e.gameMode&&this.fetchLeaderboardStats()}fetchLeaderboardStats(){this.isInfoGot=!1,this.subscription=this.leaderboardService.getLeaderboardStats(this.gameMode).pipe((0,j.W)(e=>(console.error("Failed to fetch leaderboard stats:",e),[]))).subscribe(e=>{e[0]&&(this.nameStreak=e[0][4],this.streak=e[0][6],this.qualifier=this.streak<10?"a":this.streak<20?"a powerful":this.streak<30?"a dominant":this.streak<40?"an impressive":this.streak<50?"an unstoppable":this.streak<60?"a phenomenal":this.streak<70?"an invincible":this.streak<80?"a heroic":this.streak<90?"a legendary":"a divine",this.isInfoGot=!0)})}getWinRatio(e,a){const o=e+a;return o>0?e/o*100:0}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}static#t=this.\u0275fac=function(a){return new(a||n)(t.rXU(L.x),t.rXU(b.Ix),t.rXU(b.nX))};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["app-box-leaderboard-stats"]],inputs:{gameMode:"gameMode"},features:[t.OA$],decls:1,vars:1,consts:[[4,"ngIf"],[1,"glow"],[1,"text"],[1,"streak"]],template:function(a,o){1&a&&t.DNE(0,dt,10,3,"ng-container",0),2&a&&t.Y8G("ngIf",o.isInfoGot)},dependencies:[m.bT],styles:['.categorieTitle[_ngcontent-%COMP%]{font-weight:700}.divLine[_ngcontent-%COMP%]{width:100%;text-align:left}@keyframes _ngcontent-%COMP%_change-color{0%{color:#feefc6}25%{color:#fdd771}50%{color:var(--yellow-brand)}75%{color:#fdd771}to{color:#feefc6}}.glow[_ngcontent-%COMP%]{animation-name:_ngcontent-%COMP%_change-color;animation-duration:15s;animation-iteration-count:infinite;margin-right:.2rem;font-family:Trajan Pro;font-size:clamp(.5rem,5vw,1rem);text-align:center;background:linear-gradient(180deg,#fcf0ae,#ffbe00);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;text-shadow:2px 2px 4px rgba(0,0,0,.25)}.text[_ngcontent-%COMP%]{font-family:"Source Sans 3";font-style:normal;font-size:clamp(.5rem,5vw,1rem);text-transform:uppercase;letter-spacing:.0625rem}.streak[_ngcontent-%COMP%]{font-family:"Source Sans 3";font-style:normal;font-weight:700;font-size:clamp(.5rem,5vw,1rem);text-align:center;background:linear-gradient(180deg,#fcf0ae,#ffbe00);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;text-shadow:2px 2px 4px rgba(0,0,0,.25);text-transform:uppercase;letter-spacing:.0625rem}']})}return n})(),mt=(()=>{class n{transform(e,...a){let r=(new Date).getTime()-e,c=Math.floor(r/1e3),f=Math.floor(c/60),M=Math.floor(f/60),O=Math.floor(M/24);return 1==O?`${O} day ago`:O>1?`${O} days ago`:1==M?`${M} hour ago`:M>1?`${M} hours ago`:1==f?`${f} minute ago`:f>1?`${f} minutes ago`:`${c} seconds ago`}static#t=this.\u0275fac=function(a){return new(a||n)};static#e=this.\u0275pipe=t.EJ8({name:"timeAgo",type:n,pure:!0})}return n})();const ht=()=>[10,15,25,50,100];function gt(n,i){if(1&n){const e=t.RV6();t.j41(0,"th",19),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.sortData("rank"))}),t.EFF(1," \xa0\xa0Rank "),t.k0s()}}function ut(n,i){if(1&n&&(t.j41(0,"td",20)(1,"div"),t.EFF(2),t.k0s()()),2&n){const e=i.$implicit;t.R7$(2),t.JRh(e.rank)}}function ft(n,i){if(1&n){const e=t.RV6();t.j41(0,"th",19),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.sortData("rating"))}),t.EFF(1," \xa0\xa0\xa0Rating "),t.k0s()}}function _t(n,i){if(1&n&&(t.j41(0,"td",20),t.EFF(1),t.k0s()),2&n){const e=i.$implicit;t.R7$(),t.SpI(" ",e.rating," ")}}function bt(n,i){if(1&n){const e=t.RV6();t.j41(0,"th",19),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.sortData("name"))}),t.EFF(1," \xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0Player Name "),t.k0s()}}function Ct(n,i){if(1&n){const e=t.RV6();t.j41(0,"div",25),t.bIt("click",function(o){t.eBV(e);const r=t.XpG().$implicit,c=t.XpG();return t.Njj(c.navigateToClanDetails(r.clan,o))}),t.EFF(1),t.k0s()}if(2&n){const e=t.XpG().$implicit;t.R7$(),t.SpI(" ",e.clan," ")}}function yt(n,i){if(1&n){const e=t.RV6();t.j41(0,"td",20)(1,"div",21)(2,"img",22),t.bIt("click",function(o){const r=t.eBV(e).$implicit,c=t.XpG();return t.Njj(c.filterByCountry(o,r.country))}),t.k0s(),t.nrm(3,"img",23),t.j41(4,"div"),t.EFF(5),t.k0s(),t.DNE(6,Ct,2,1,"div",24),t.k0s()()}if(2&n){const e=i.$implicit,a=t.XpG();t.R7$(2),t.FS9("matTooltip",a.getCountryName(e.country)),t.Y8G("src",a.getPlayerCountry(e.country),t.B4B),t.R7$(),t.Y8G("src",a.getPlayerAvatar(e.avatarSteam),t.B4B),t.R7$(2),t.JRh(e.name),t.R7$(),t.Y8G("ngIf",e.clan)}}function kt(n,i){if(1&n){const e=t.RV6();t.j41(0,"th",19),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.sortData("streak"))}),t.EFF(1," Streak "),t.k0s()}}function xt(n,i){if(1&n&&(t.j41(0,"div",27)(1,"span",28),t.nrm(2,"ng-icon",29),t.k0s(),t.EFF(3),t.k0s()),2&n){const e=t.XpG().$implicit;t.R7$(3),t.SpI("",e.streak," ")}}function vt(n,i){if(1&n&&(t.j41(0,"div",30)(1,"span",28),t.nrm(2,"ng-icon",31),t.k0s(),t.EFF(3),t.k0s()),2&n){const e=t.XpG().$implicit;t.R7$(3),t.SpI("",-e.streak," ")}}function Mt(n,i){if(1&n&&(t.j41(0,"td",20),t.DNE(1,xt,4,1,"div",26)(2,vt,4,1,"ng-template",null,0,t.C5r),t.k0s()),2&n){const e=i.$implicit,a=t.sdS(3);t.R7$(),t.Y8G("ngIf",e.streak>0)("ngIfElse",a)}}function wt(n,i){if(1&n){const e=t.RV6();t.j41(0,"th",19),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.sortData("winrate"))}),t.EFF(1," \xa0\xa0\xa0Win Rate "),t.k0s()}}function Pt(n,i){if(1&n&&(t.j41(0,"td",20),t.EFF(1),t.nI1(2,"number"),t.k0s()),2&n){const e=i.$implicit,a=t.XpG();t.R7$(),t.SpI(" ",t.i5U(2,1,a.getWinRatio(e.wins,e.losses+e.disconnections),"1.0-0"),"% ")}}function Ot(n,i){if(1&n){const e=t.RV6();t.j41(0,"th",19),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.sortData("games"))}),t.EFF(1," \xa0\xa0\xa0Games "),t.k0s()}}function St(n,i){if(1&n&&(t.j41(0,"td",20),t.EFF(1),t.k0s()),2&n){const e=i.$implicit;t.R7$(),t.SpI(" ",e.wins+e.losses+e.disconnections," ")}}function Rt(n,i){if(1&n){const e=t.RV6();t.j41(0,"th",19),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.sortData("lastMatchDate"))}),t.EFF(1," Last Played "),t.k0s()}}function Et(n,i){if(1&n&&(t.j41(0,"td",20),t.EFF(1),t.nI1(2,"timeAgo"),t.k0s()),2&n){const e=i.$implicit;t.R7$(),t.SpI(" \xa0\xa0\xa0",t.bMT(2,1,e.lastMatchDate)," ")}}function Ft(n,i){if(1&n){const e=t.RV6();t.j41(0,"th",19),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.sortData("social"))}),t.EFF(1," Social "),t.k0s()}}function It(n,i){if(1&n&&(t.j41(0,"a",34),t.nrm(1,"img",35),t.k0s()),2&n){const e=t.XpG().$implicit;t.Y8G("href","https://"+e.twitchURL,t.B4B)}}function jt(n,i){if(1&n&&(t.j41(0,"a",34),t.nrm(1,"img",36),t.k0s()),2&n){const e=t.XpG().$implicit;t.Y8G("href","https://"+e.youtubeURL,t.B4B)}}function Lt(n,i){if(1&n&&(t.j41(0,"a",34),t.nrm(1,"img",37),t.k0s()),2&n){const e=t.XpG().$implicit;t.Y8G("href","https://"+e.liquipediaURL,t.B4B)}}function Tt(n,i){if(1&n&&(t.j41(0,"a",34),t.nrm(1,"img",38),t.k0s()),2&n){const e=t.XpG().$implicit;t.Y8G("href","https://"+e.discordURL,t.B4B)}}function Dt(n,i){if(1&n){const e=t.RV6();t.j41(0,"td",32),t.bIt("click",function(o){return t.eBV(e),t.Njj(o.stopPropagation())}),t.DNE(1,It,2,1,"a",33)(2,jt,2,1,"a",33)(3,Lt,2,1,"a",33)(4,Tt,2,1,"a",33),t.k0s()}if(2&n){const e=i.$implicit;t.R7$(),t.Y8G("ngIf",e.twitchURL),t.R7$(),t.Y8G("ngIf",e.youtubeURL),t.R7$(),t.Y8G("ngIf",e.liquipediaURL),t.R7$(),t.Y8G("ngIf",e.discordURL)}}function $t(n,i){1&n&&t.nrm(0,"tr",39)}function Gt(n,i){if(1&n){const e=t.RV6();t.j41(0,"tr",40),t.bIt("click",function(){const o=t.eBV(e).$implicit,r=t.XpG();return t.Njj(r.navigateToPlayerProfile(o.idPlayer.toString()))}),t.k0s()}}let Bt=(()=>{class n{constructor(e,a,o,r,c){this.leaderboardService=e,this.router=a,this.route=o,this.countryService=r,this.cdr=c,this.subscriptions=[],this.sortField="rank",this.sortOrder="asc",this.localStorageKey="playersListTrunc",this.pageIndexStorageKey="rank_list_page_index_storage_key",this.pageSizeStorageKey="rank_list_page_size_storage_key",this.showInactive=!1,this.displayedColumns=["rank","rating","name","streak","winrate","games","lastMatchDate","social"],this.playersAll=[],this.filteredPlayers=[],this.players=new d.I6,this.isLoading=!0,this.countries=[],this.currentCountryFilter="",this.clearInputEvent=new t.bkB,this.gameModeEvent=new t.bkB}ngOnInit(){this.subscriptions.push(this.countryService.getCountries().subscribe(e=>{this.countries=e})),this.subscriptions.push(this.route.queryParams.subscribe(e=>{this.gameMode=e.gameMode?e.gameMode:1,this.fetchAllPlayers()})),this.players.paginator=this.paginator,this.players.sort=this.sort}ngAfterViewInit(){this.players.paginator=this.paginator,this.players.sort=this.sort}ngOnChanges(e){(e.search||e.gameMode)&&(this.players.data=[],this.countryChanged&&this.search&&(this.currentCountryFilter="",this.countryChanged=""),this.applyCountryFilter(),this.fetchAllPlayers())}getPlayerAvatar(e){return e||"assets/icons/no_avatar.jpg"}restorePaginatorState(){const e=localStorage.getItem(this.pageIndexStorageKey),a=localStorage.getItem(this.pageSizeStorageKey);localStorage.removeItem(this.pageIndexStorageKey),localStorage.removeItem(this.pageSizeStorageKey),null!==e&&null!==a&&setTimeout(()=>{this.paginator.pageIndex=+e,this.paginator.pageSize=+a,this.cdr.detectChanges(),this.paginator.page.next({pageIndex:+e,pageSize:+a,length:this.players.data.length})},0)}fetchAllPlayers(){var e=this;return(0,rt.A)(function*(){const o=localStorage.getItem(e.localStorageKey+"_"+e.gameMode);if(o&&e.leaderboardService.isCacheExpired(e.gameMode))try{const r=JSON.parse(o);e.playersAll=r,e.applyFilters(),e.getPageData()}catch(r){console.error("Error parsing local storage data:",r)}e.isLoading=!0;try{const r=yield(0,st._)(e.leaderboardService.getLeaderboard(e.gameMode).pipe((0,j.W)(c=>{throw console.error("Error fetching leaderboard data: ",c),c})));e.playersAll=r,e.applyFilters(),e.getPageData(),e.isLoading=!1,e.restorePaginatorState()}catch(r){e.isLoading=!1,console.error("Error fetching leaderboard data:",r)}})()}getPlayerCountry(e){if(!this.countries)return"";const a=this.countries.find(o=>o.alpha2Code?.toUpperCase()===e?.toUpperCase());return a?a.flag:""}getCountryName(e){if(!this.countries)return"";const a=this.countries.find(o=>o.alpha2Code?.toUpperCase()===e?.toUpperCase());return a?a.name:""}filterByCountry(e,a){this.countryChanged=a?.toUpperCase(),this.countryEvent=e,this.search&&this.search.length>0?this.clearInputEvent.emit():this.applyCountryFilter()}applyCountryFilter(){this.countryChanged&&(this.currentCountryFilter=this.currentCountryFilter?.toUpperCase()==this.countryChanged?.toUpperCase()?"":this.countryChanged?.toUpperCase(),this.applyFilters(),this.resetPaginator(),this.sortOrder="desc",this.sortData("rank"),window.scrollTo(0,0)),this.countryEvent?.stopPropagation()}resetPaginator(){this.paginator&&(this.paginator.pageIndex=0)}applyFilters(){let e=this.playersAll;if(this.currentCountryFilter&&(e=e.filter(a=>a.country?.toUpperCase()===this.currentCountryFilter?.toUpperCase())),this.search){const a=this.search.toLowerCase();e=e.filter(o=>o.name.toLowerCase().includes(a))}this.filteredPlayers=e,this.getPageData()}sortData(e){this.sortField=e,this.sortOrder=this.sortField===e&&"asc"===this.sortOrder?"desc":"asc",this.sortPlayers(),this.getPageData()}sortPlayers(){const e="asc"===this.sortOrder?1:-1;this.filteredPlayers.sort((a,o)=>{const r=this.getSortValue(a,this.sortField),c=this.getSortValue(o,this.sortField);return r<c?-1*e:r>c?1*e:0})}getSortValue(e,a){switch(a){case"rank":case"rating":case"name":case"streak":case"lastMatchDate":return e[a];case"winrate":return this.getWinRatio(e.wins,e.losses+e.disconnections);case"games":return e.wins+e.losses+e.disconnections;case"social":return[e.twitchURL,e.youtubeURL,e.liquipediaURL,e.discordURL].filter(o=>!!o).length;default:return null}}getPageData(){this.players.data=this.filteredPlayers,this.players.paginator=this.paginator}getWinRatio(e,a){return(e/(e+a)*100).toFixed(1)}navigateToPlayerProfile(e){localStorage.setItem(this.pageIndexStorageKey,this.paginator.pageIndex.toString()),localStorage.setItem(this.pageSizeStorageKey,this.paginator.pageSize.toString()),this.gameModeEvent?.emit(this.gameMode),window.scrollTo(0,0),this.router.navigate(["/profile"],{queryParams:{idPlayer:e}})}navigateToClanDetails(e,a){a.stopPropagation(),this.router.navigate(["/clan-details"],{queryParams:{clanAbbreviation:e}})}ngOnDestroy(){this.subscriptions.forEach(e=>{e.unsubscribe()})}static#t=this.\u0275fac=function(a){return new(a||n)(t.rXU(L.x),t.rXU(b.Ix),t.rXU(b.nX),t.rXU(ct.o),t.rXU(t.gRc))};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["app-rank-list"]],viewQuery:function(a,o){if(1&a&&(t.GBs(g.iy,5),t.GBs(F.B4,5)),2&a){let r;t.mGM(r=t.lsd())&&(o.paginator=r.first),t.mGM(r=t.lsd())&&(o.sort=r.first)}},inputs:{gameMode:"gameMode",search:"search"},outputs:{clearInputEvent:"clearInputEvent",gameModeEvent:"gameModeEvent"},features:[t.OA$],decls:31,vars:8,consts:[["elseBlock",""],[1,"streak-pagination"],[1,"streak",3,"gameMode"],[1,"table-container"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","rank"],["mat-header-cell","","mat-sort-header","",3,"click",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","rating"],["matColumnDef","name"],["matColumnDef","streak"],["matColumnDef","winrate"],["matColumnDef","games"],["matColumnDef","lastMatchDate"],["matColumnDef","social"],["mat-cell","","class","socials-icons",3,"click",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","class","content-row",3,"click",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"length","pageSizeOptions","pageSize"],["mat-header-cell","","mat-sort-header","",3,"click"],["mat-cell",""],[1,"player-name"],[1,"country",3,"click","src","matTooltip"],[1,"steam-avatar",3,"src"],["class","clan-tag",3,"click",4,"ngIf"],[1,"clan-tag",3,"click"],["class","up-trend",4,"ngIf","ngIfElse"],[1,"up-trend"],[1,"icon"],["name","heroArrowUpRight"],[1,"down-trend"],["name","heroArrowDownRight"],["mat-cell","",1,"socials-icons",3,"click"],["target","_blank",3,"href",4,"ngIf"],["target","_blank",3,"href"],["src","assets/icons/twitch-white-logo.png",1,"media-icon"],["src","assets/icons/youtube-white-logo.png",1,"media-icon"],["src","assets/icons/liquipedia-icon-white.png",1,"media-icon"],["src","assets/icons/discord-icon-white.png",1,"media-icon"],["mat-header-row",""],["mat-row","",1,"content-row",3,"click"]],template:function(a,o){1&a&&(t.j41(0,"div",1),t.nrm(1,"app-box-leaderboard-stats",2),t.k0s(),t.j41(2,"div",3)(3,"table",4),t.qex(4,5),t.DNE(5,gt,2,0,"th",6)(6,ut,3,1,"td",7),t.bVm(),t.qex(7,8),t.DNE(8,ft,2,0,"th",6)(9,_t,2,1,"td",7),t.bVm(),t.qex(10,9),t.DNE(11,bt,2,0,"th",6)(12,yt,7,5,"td",7),t.bVm(),t.qex(13,10),t.DNE(14,kt,2,0,"th",6)(15,Mt,4,2,"td",7),t.bVm(),t.qex(16,11),t.DNE(17,wt,2,0,"th",6)(18,Pt,3,4,"td",7),t.bVm(),t.qex(19,12),t.DNE(20,Ot,2,0,"th",6)(21,St,2,1,"td",7),t.bVm(),t.qex(22,13),t.DNE(23,Rt,2,0,"th",6)(24,Et,3,3,"td",7),t.bVm(),t.qex(25,14),t.DNE(26,Ft,2,0,"th",6)(27,Dt,5,4,"td",15),t.bVm(),t.DNE(28,$t,1,0,"tr",16)(29,Gt,1,0,"tr",17),t.k0s(),t.nrm(30,"mat-paginator",18),t.k0s()),2&a&&(t.R7$(),t.Y8G("gameMode",o.gameMode),t.R7$(2),t.Y8G("dataSource",o.players),t.R7$(25),t.Y8G("matHeaderRowDef",o.displayedColumns),t.R7$(),t.Y8G("matRowDefColumns",o.displayedColumns),t.R7$(),t.Y8G("length",o.players.data.length)("pageSizeOptions",t.lJ4(7,ht))("pageSize",15))},dependencies:[m.bT,lt.$e,d.Zl,d.tL,d.ji,d.cC,d.YV,d.iL,d.KS,d.$R,d.YZ,d.NB,g.iy,F.B4,F.aE,I.oV,pt,m.QX,mt],styles:['.streak-pagination[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.streak[_ngcontent-%COMP%]{margin-left:1rem}.table-container[_ngcontent-%COMP%]{overflow:auto;height:auto;scrollbar-width:thin;scrollbar-color:var(--yellow-brand-hover) transparent}.table-container[_ngcontent-%COMP%]::-webkit-scrollbar{height:6px}.table-container[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}.table-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:var(--yellow-brand-hover);border-radius:10px;border:1px solid transparent}.table-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background-color:var(--yellow-brand-hover)}.media-icon[_ngcontent-%COMP%]{height:1em;width:1em;margin-right:.8em}.clickable-row[_ngcontent-%COMP%]{cursor:pointer}.steam-avatar-title[_ngcontent-%COMP%]{max-width:2rem}.player-name[_ngcontent-%COMP%]{display:flex;gap:1rem;align-items:center}.steam-avatar[_ngcontent-%COMP%]{max-width:2rem;max-height:2rem;min-width:2rem;min-height:2rem;width:100%;height:100%;object-fit:cover;border-radius:5px;border:1px solid black}.country[_ngcontent-%COMP%]{max-width:2rem;min-width:2rem;height:auto;box-shadow:2px 2px 4px #00000040}.country[_ngcontent-%COMP%]:hover{scale:1.1}.country[_ngcontent-%COMP%]:active{scale:.95}table[_ngcontent-%COMP%]{width:100%;table-layout:auto;background-color:#0000}th[_ngcontent-%COMP%]{font-family:Trajan Pro;font-size:1rem;color:var(--yellow-brand);text-shadow:2px 2px 4px #00000025;padding-top:1rem}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{word-wrap:break-word;white-space:nowrap;vertical-align:middle;align-items:center;border:none;padding-right:0;padding-left:0}th[_ngcontent-%COMP%]:nth-child(1), th[_ngcontent-%COMP%]:nth-child(2), th[_ngcontent-%COMP%]:nth-child(4), th[_ngcontent-%COMP%]:nth-child(5), th[_ngcontent-%COMP%]:nth-child(6), th[_ngcontent-%COMP%]:nth-child(7), td[_ngcontent-%COMP%]:nth-child(1), td[_ngcontent-%COMP%]:nth-child(2), td[_ngcontent-%COMP%]:nth-child(5), td[_ngcontent-%COMP%]:nth-child(6){text-align:center}th.mat-column-rank[_ngcontent-%COMP%], td.mat-column-rank[_ngcontent-%COMP%]{width:2%}th.mat-column-rating[_ngcontent-%COMP%], td.mat-column-rating[_ngcontent-%COMP%]{width:3%}th.mat-column-country[_ngcontent-%COMP%], td.mat-column-country[_ngcontent-%COMP%]{width:1%}th.mat-column-name[_ngcontent-%COMP%], td.mat-column-name[_ngcontent-%COMP%]{width:54%}th.mat-column-streak[_ngcontent-%COMP%], td.mat-column-streak[_ngcontent-%COMP%], th.mat-column-winrate[_ngcontent-%COMP%], td.mat-column-winrate[_ngcontent-%COMP%], th.mat-column-games[_ngcontent-%COMP%], td.mat-column-games[_ngcontent-%COMP%]{width:5%}th.mat-column-lastMatchDate[_ngcontent-%COMP%], td.mat-column-lastMatchDate[_ngcontent-%COMP%]{width:10%}th.mat-column-social[_ngcontent-%COMP%], td.mat-column-social[_ngcontent-%COMP%]{width:15%}.content-row[_ngcontent-%COMP%]{font-family:"Source Sans 3";font-size:1rem;border-bottom:none!important}.content-row[_ngcontent-%COMP%]:nth-child(odd){background-color:#18181880}.content-row[_ngcontent-%COMP%]:nth-child(2n){background-color:#1818181a}.content-row[_ngcontent-%COMP%]:nth-child(odd):hover, .content-row[_ngcontent-%COMP%]:nth-child(2n):hover{background-color:#ffc1001a;cursor:pointer}.clan-tag[_ngcontent-%COMP%]{background-color:#4545451a;padding:.2rem .5rem;border-radius:5px;box-shadow:2px 2px 4px #0000001a;font-size:.8rem;color:#ddd}.clan-tag[_ngcontent-%COMP%]:hover{color:#fff;background-color:var(--yellow-brand-hover)}.clan-tag[_ngcontent-%COMP%]:active{scale:.95}.socials-icons[_ngcontent-%COMP%]{min-width:12rem}.socials-icons[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{display:inline-block;margin-right:.2rem}.media-icon[_ngcontent-%COMP%]{height:1em;width:1em}.hidden[_ngcontent-%COMP%]{display:none}.material-icons[_ngcontent-%COMP%]{font-size:clamp(.6rem,2vw,1.2rem);font-weight:700;transition:transform 1s!important;vertical-align:-1px}th[_ngcontent-%COMP%]{cursor:pointer}mat-paginator[_ngcontent-%COMP%]{background-color:#18181800}@media only screen and (max-width: 600px){.streak-pagination[_ngcontent-%COMP%]{flex-direction:column}.streak[_ngcontent-%COMP%]{text-align:center}}  .rank-list-table-holder{scrollbar-width:thin;scrollbar-color:var(--yellow-brand) var(--button-bg)}  .rank-list-table-holder::-webkit-scrollbar{width:12px}  .rank-list-table-holder::-webkit-scrollbar-thumb{background-color:var(--yellow-brand)}  .rank-list-table-holder::-webkit-scrollbar-track{background-color:var(--button-bg)}']})}return n})();function Vt(n,i){if(1&n){const e=t.RV6();t.qex(0),t.j41(1,"button",9),t.bIt("click",function(){const o=t.eBV(e).$implicit,r=t.XpG();return t.Njj(r.onTabChanged(o.index))}),t.EFF(2),t.k0s(),t.bVm()}if(2&n){const e=i.$implicit,a=t.XpG();t.R7$(),t.AVh("active",a.activeButton===e.index),t.R7$(),t.SpI(" ",e.label," ")}}function Nt(n,i){if(1&n&&(t.j41(0,"span",10),t.EFF(1),t.k0s()),2&n){const e=t.XpG();t.R7$(),t.SpI(" ",e.getSuperscriptForGameMode(e.gameMode)," ")}}let At=(()=>{class n{constructor(e){this.breakpointObserver=e,this.search="",this.gameMode=1,this.gridByBreakpoint={xl:{cols:9,rowHeight:"2:1"},lg:{cols:9,rowHeight:"2:1"},md:{cols:5,rowHeight:"3:1"},sm:{cols:4,rowHeight:"3:1"},xs:{cols:2,rowHeight:"4:1"}},this.activeButton=null,this.buttons=[{label:"Solo",index:1},{label:"2v2",index:8},{label:"3v3",index:9},{label:"4v4",index:10},{label:"Team",index:2},{label:"Treaty",index:3},{label:"DM",index:4},{label:"EW Solo",index:5},{label:"EW Team",index:6}],this.isInputActive=!1,this.clearInputEvent=new t.bkB,this.gameModeStorageKey="leaderboard_game_mode_storage_key",this.subscription=this.breakpointObserver.observe([u.Rp.XSmall,u.Rp.Small,u.Rp.Medium,u.Rp.Large,u.Rp.XLarge]).subscribe(a=>{a.matches&&(a.breakpoints[u.Rp.XSmall]&&(this.cols=this.gridByBreakpoint.xs.cols,this.rowHeight=this.gridByBreakpoint.xs.rowHeight),a.breakpoints[u.Rp.Small]&&(this.cols=this.gridByBreakpoint.sm.cols,this.rowHeight=this.gridByBreakpoint.sm.rowHeight),a.breakpoints[u.Rp.Medium]&&(this.cols=this.gridByBreakpoint.md.cols,this.rowHeight=this.gridByBreakpoint.md.rowHeight),a.breakpoints[u.Rp.Large]&&(this.cols=this.gridByBreakpoint.lg.cols,this.rowHeight=this.gridByBreakpoint.lg.rowHeight),a.breakpoints[u.Rp.XLarge]&&(this.cols=this.gridByBreakpoint.xl.cols,this.rowHeight=this.gridByBreakpoint.xl.rowHeight))}),this.onTabChanged(1)}ngAfterViewInit(){var e=localStorage.getItem(this.gameModeStorageKey);e&&(this.onTabChanged(+e),localStorage.removeItem(this.gameModeStorageKey))}onClearInput(){this.clearInputEvent.emit()}onModeChanged(e){localStorage.setItem(this.gameModeStorageKey,e.toString())}onSearchChanged(e){this.search=e.target.value}onTabChanged(e){this.gameMode=e,this.activeButton=e}getTitleForGameMode(e){switch(e){case 1:return"Supremacy Solo";case 2:return"Supremacy Team";case 3:return"Treaty";case 4:return"Deathmatch";case 5:return"Empire Wars Solo";case 6:return"Empire Wars Team";case 8:return"2v2 Supremacy";case 9:return"3v3 Supremacy";case 10:return"4v4 Supremacy";default:return""}}getSuperscriptForGameMode(e){switch(e){case 1:case 2:case 3:case 4:case 5:case 6:default:return"";case 8:case 9:case 10:return" ffp"}}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}static#t=this.\u0275fac=function(a){return new(a||n)(t.rXU(u.QP))};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["app-leaderboard"]],inputs:{search:"search"},outputs:{clearInputEvent:"clearInputEvent"},decls:10,vars:5,consts:[["id","myTabContent",1,"dark-bg","rounded"],[1,"button-container"],[1,"filter-container"],[4,"ngFor","ngForOf"],[1,"title-search"],[1,"game-mode-container"],[1,"game-mode-title"],["matTooltip","Custom Ranking","class","ffp",4,"ngIf"],[3,"clearInputEvent","gameModeEvent","gameMode","search"],[1,"game-mode-button",3,"click"],["matTooltip","Custom Ranking",1,"ffp"]],template:function(a,o){1&a&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2),t.DNE(3,Vt,3,3,"ng-container",3),t.k0s(),t.j41(4,"div",4)(5,"div",5)(6,"span",6),t.EFF(7),t.k0s(),t.DNE(8,Nt,2,1,"span",7),t.k0s()()(),t.j41(9,"app-rank-list",8),t.bIt("clearInputEvent",function(){return o.onClearInput()})("gameModeEvent",function(c){return o.onModeChanged(c)}),t.k0s()()),2&a&&(t.R7$(3),t.Y8G("ngForOf",o.buttons),t.R7$(4),t.JRh(o.getTitleForGameMode(o.gameMode)),t.R7$(),t.Y8G("ngIf",o.getSuperscriptForGameMode(o.gameMode)),t.R7$(),t.Y8G("gameMode",o.gameMode)("search",o.search))},dependencies:[m.Sq,m.bT,I.oV,Bt],styles:[".button-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:1rem}.filter-container[_ngcontent-%COMP%]{display:flex;gap:.5rem;margin-bottom:1rem}.game-mode-button[_ngcontent-%COMP%]{box-shadow:0 0 5px #00000080;background-color:#454545f2;padding:.5rem;border-radius:5px;cursor:pointer;border:none;color:#fff;font-family:Trajan Pro;font-size:1rem;height:2.5rem;flex:1;letter-spacing:1px}.game-mode-button.active[_ngcontent-%COMP%]{background-color:var(--yellow-brand);color:#000}.game-mode-button[_ngcontent-%COMP%]:hover{background-color:var(--yellow-brand-hover)}.game-mode-button.active[_ngcontent-%COMP%]:hover{background-color:var(--yellow-brand)}.game-mode-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.game-mode-title[_ngcontent-%COMP%]{color:var(--yellow-brand);text-shadow:#00000050 2px 2px 4px;font-variant:normal;font-family:Trajan Pro;font-size:clamp(1.9rem,2vw,2rem);font-style:normal}.ffp[_ngcontent-%COMP%]{padding:.2rem .5rem;font-size:.9rem;font-family:Trajan Pro;border-radius:50px;border:1px solid var(--yellow-brand);color:#fff;background-color:#12121280;letter-spacing:1px;cursor:pointer}.title-search[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap;align-items:center}@media only screen and (max-width: 1100px){.game-mode-button[_ngcontent-%COMP%]{width:9rem;flex:none}.filter-container[_ngcontent-%COMP%]{overflow-x:auto;scrollbar-width:thin;scrollbar-color:var(--yellow-brand-hover) transparent}.filter-container[_ngcontent-%COMP%]::-webkit-scrollbar{height:6px}.filter-container[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}.filter-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:var(--yellow-brand-hover);border-radius:10px;border:1px solid transparent}.filter-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background-color:var(--yellow-brand-hover)}}@media only screen and (max-width: 600px){.title-search[_ngcontent-%COMP%]{flex-direction:column-reverse;gap:1rem}}"]})}return n})();function zt(n,i){if(1&n){const e=t.RV6();t.qex(0),t.j41(1,"app-leaderboard",10),t.bIt("clearInputEvent",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.onClearInput())}),t.k0s(),t.bVm()}if(2&n){const e=t.XpG();t.R7$(),t.Y8G("search",e.search)}}function Xt(n,i){if(1&n&&(t.qex(0),t.nrm(1,"app-clans",11),t.bVm()),2&n){const e=t.XpG();t.R7$(),t.Y8G("search",e.search)}}const Ut=[{path:"",component:(()=>{class n{constructor(){this.index=0}tabClicked(e){this.index=e,localStorage.setItem(this.indexStorageKey,this.index.toString())}onSearchChanged(e){this.search=e}onClearInput(){this.search=""}static#t=this.\u0275fac=function(a){return new(a||n)};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["app-leaderboards-main"]],decls:21,vars:4,consts:[[1,"custom-container"],[1,"main-heading-container"],[1,"main-heading"],[1,"toggle-container"],[1,"toggle-tab",3,"click"],[1,"toggle-icon-players"],[1,"toggle-text"],[1,"toggle-icon-clans"],[3,"OnSearchChanged","clearInputEvent"],[4,"ngIf"],[3,"clearInputEvent","search"],[3,"search"]],template:function(a,o){1&a&&(t.j41(0,"div",0)(1,"div",1)(2,"h1",2),t.EFF(3," Leaderboards "),t.j41(4,"mat-icon"),t.EFF(5,"chevron_right"),t.k0s(),t.EFF(6),t.k0s(),t.j41(7,"div",3)(8,"div",4),t.bIt("click",function(){return o.tabClicked(0)}),t.j41(9,"mat-icon",5),t.EFF(10,"person"),t.k0s(),t.j41(11,"span",6),t.EFF(12,"Players"),t.k0s()(),t.j41(13,"div",4),t.bIt("click",function(){return o.tabClicked(1)}),t.j41(14,"mat-icon",7),t.EFF(15,"people"),t.k0s(),t.j41(16,"span",6),t.EFF(17,"Clans"),t.k0s()(),t.j41(18,"app-search-expandable",8),t.bIt("OnSearchChanged",function(c){return o.onSearchChanged(c)}),t.k0s()()(),t.DNE(19,zt,2,1,"ng-container",9)(20,Xt,2,1,"ng-container",9),t.k0s()),2&a&&(t.R7$(6),t.SpI(" ",0===o.index?"Players":"Clans"," "),t.R7$(12),t.Y8G("clearInputEvent",o.search),t.R7$(),t.Y8G("ngIf",0===o.index),t.R7$(),t.Y8G("ngIf",1===o.index))},dependencies:[m.bT,_,v.An,it,At],styles:[".main-heading-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap}.toggle-container[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:.5rem;margin-right:1rem;margin-left:1rem;align-items:flex-end}.toggle-tab[_ngcontent-%COMP%]{display:flex;gap:.2rem;align-items:center;padding:.4rem 1rem .2rem;width:150px;height:35px;transition:all .5s cubic-bezier(0,.11,.35,2);background:linear-gradient(145deg,#f7c328e6,#ffc100e6,#ffbf00e6,#ffc61de6);border:1px solid var(--yellow-brand);box-shadow:inset 0 18px 4px #ffffff4d,0 2px 4px #0003;border-radius:2px 2px 0 0;background-blend-mode:multiply}.toggle-tab[_ngcontent-%COMP%]:hover{background:linear-gradient(145deg,#f7c328e6,#ffc100e6,#ffbf00e6,#ffc61de6);box-shadow:inset 0 18px 4px #2b2b2b4d,0 2px 6px #0006;cursor:pointer}.toggle-tab[_ngcontent-%COMP%]:active{box-shadow:none}.toggle-icon-players[_ngcontent-%COMP%], .toggle-icon-clans[_ngcontent-%COMP%]{font-size:20px;color:#000}.toggle-text[_ngcontent-%COMP%]{color:#000;font-family:Kanit Regular;font-variant:normal;font-size:1.1rem;font-style:normal;font-weight:700;line-height:1.1rem;letter-spacing:1px}@media (max-width: 1100px){.main-heading-container[_ngcontent-%COMP%]{flex-direction:column;justify-content:none}.main-heading[_ngcontent-%COMP%]{width:min-content}.toggle-container[_ngcontent-%COMP%]{flex-wrap:wrap}}@media (max-width: 450px){.toggle-container[_ngcontent-%COMP%]{margin:0}.toggle-tab[_ngcontent-%COMP%]{width:120px}.toggle-icon-players[_ngcontent-%COMP%], .toggle-icon-clans[_ngcontent-%COMP%]{font-size:18px}.toggle-text[_ngcontent-%COMP%]{font-size:1rem}}@media (max-width: 400px){.toggle-tab[_ngcontent-%COMP%]{width:100px}}"]})}return n})()}];let Yt=(()=>{class n{static#t=this.\u0275fac=function(a){return new(a||n)};static#e=this.\u0275mod=t.$C({type:n});static#n=this.\u0275inj=t.G2t({imports:[b.iI.forChild(Ut),b.iI]})}return n})(),Kt=(()=>{class n{static#t=this.\u0275fac=function(a){return new(a||n)};static#e=this.\u0275mod=t.$C({type:n});static#n=this.\u0275inj=t.G2t({imports:[m.MD,Yt,P.G,S.G]})}return n})()},2427:(T,w,s)=>{s.d(w,{x:()=>v});var m=s(1626),P=s(7673),S=s(8141),b=s(9437),t=s(5440),C=s(4438);let v=(()=>{class k{constructor(l,p){this.httpClient=l,this.zone=p,this.cacheDuration=18e4,this.headers=(new m.Lr).set("Content-Type","application/json"),this.apiPlayers="/player/playerlist",this.apiPlayersActive="/player/playerlistactive",this.apiPlayersNameLike="/player/playerautocomplete",this.apileaderboardStats="/player/leaderboardstats",this.apiLeaderboard="/player/leaderboard",this.apiPlayerlistfull="/player/playerlistfull",this.apiPlayerlistElo="/player/getEloForList",this.cache={},this.localStorageKey="playersListTrunc"}getLeaderboard(l){const p=(new m.Nl).set("gameMode",l.toString()),h={headers:this.headers,params:p},_="getLeaderboard_"+l,g=this.localStorageKey+"_"+l,d=this.cache[_];return this.isCacheExpired(l)?this.httpClient.get(t.p+this.apiLeaderboard,h).pipe((0,S.M)(y=>{this.cache[_]={data:y,expiry:new Date(Date.now()+this.cacheDuration)};const x=y.slice(0,100),R=g+"_expiration";localStorage.setItem(g,JSON.stringify(x)),localStorage.setItem(R,new Date(Date.now()+this.cacheDuration).toISOString())}),(0,b.W)(this.handleError)):(0,P.of)(d.data)}isCacheExpired(l){const h=this.cache["getLeaderboard_"+l];return!h||Date.now()>=h.expiry.getTime()}handleError(l){let p="";return p=l.error instanceof ErrorEvent?"An error occurred: "+l.error.message:`Backend returned code ${l.status}: ${l.body}`,console.error(p),(0,P.of)([])}getLeaderboardList(l,p,h,_,g,d){let y=(new m.Nl).set("gameMode",l.toString()).set("search",p).set("page",h.toString()).set("size",_.toString()).set("sortField",g).set("sortOrder",d);return this.httpClient.get(t.p+this.apiPlayers,{headers:this.headers,params:y})}getLeaderboardActiveList(l,p,h,_,g,d){let y=(new m.Nl).set("gameMode",l.toString()).set("search",p).set("page",h.toString()).set("size",_.toString()).set("orderBy",g).set("direction",d);return this.httpClient.get(t.p+this.apiPlayersActive,{headers:this.headers,params:y})}getPlayerNameLikeList(l){let p=(new m.Nl).set("name",l.toString());return this.httpClient.get(t.p+this.apiPlayersNameLike,{headers:this.headers,params:p})}getLeaderboardStats(l){let p=(new m.Nl).set("gameMode",l.toString());return this.httpClient.get(t.p+this.apileaderboardStats,{headers:this.headers,params:p})}getPlayerList(){return this.httpClient.get(t.p+this.apiPlayerlistfull,{headers:this.headers})}getEloForList(l,p){let h=(new m.Nl).set("players",l.join(",")).set("gameMode",p);return this.httpClient.get(`${t.p}${this.apiPlayerlistElo}`,{headers:this.headers,params:h})}static#t=this.\u0275fac=function(p){return new(p||k)(C.KVO(m.Qq),C.KVO(C.SKi))};static#e=this.\u0275prov=C.jDH({token:k,factory:k.\u0275fac,providedIn:"root"})}return k})()}}]);